(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{156:function(e,a,t){e.exports=t(315)},161:function(e,a,t){},162:function(e,a,t){},186:function(e,a){},188:function(e,a){},227:function(e,a){},228:function(e,a){},287:function(e,a,t){},312:function(e,a){},315:function(e,a,t){"use strict";t.r(a);var n,r=t(0),l=t.n(r),o=t(32),i=t.n(o),c=(t(161),t(162),t(14)),s=t(30),u=t(19),p=t(20),d=t(23),m=t(21),h=t(8),b=t(22),E=t(9),v=t(3),g=t(45),f=t.n(g),y=function(e){return console.log("loggin in ",e),{type:"LOGING-IN-COMP",payload:e}},O=function(e){return{type:"SIGNING-UP-COMP",payload:e}},N=function(e){return{type:"DOING-ASYNC",payload:e}},w=t(150),I=t(24),A=t(15),j=(n={signupforgame:"SIGN-UP-FOR-GAME",error:"ERROR",success:"SUCCESS",setuser:"SET-USER",submitanswer:"SUBMIT-ANSWER",getgameobject:"GET-GAME",setgameobject:"SET-GAME",blockout:"BLOCK-OUT",youwin:"WIN",totalwinnersreached:"TOTAL-WINNERS-REACHED",wronganswer:"WRONG-ANSWER"},Object(A.a)(n,"submitanswer","SUBMIT-ANSWER"),Object(A.a)(n,"updateprofile","UPDATE-PROFILE"),n),k=j.updateprofile,C="https://topner.herokuapp.com/",S=function(e){return{type:"SET-ACTIVE-USER",payload:{user:e}}},T=function(e){function a(){var e;return Object(u.a)(this,a),(e=Object(d.a)(this,Object(m.a)(a).call(this))).handleInputChange=e.handleInputChange.bind(Object(h.a)(e)),e.validateField=e.validateField.bind(Object(h.a)(e)),e.createUserAccount=e.createUserAccount.bind(Object(h.a)(e)),e}return Object(b.a)(a,e),Object(p.a)(a,[{key:"handleInputChange",value:function(e){var a=e.target,t=a.id,n=a.value;this.props.signupInputAction({id:t,value:n}),this.props.signupInputValidation({id:t,value:n})}},{key:"validateField",value:function(e){var a=e.target,t=a.id,n=a.value;this.props.signupInputValidation({id:t,value:n})}},{key:"createUserAccount",value:function(e){e.preventDefault(),this.props.createUserAccount(this.props.signup_input_data)}},{key:"render",value:function(){var e=this.props,a=e.signup_input_data,t=e.validation,n=e.auth,r=e.signingup,o=a.name,i=a.email,c=a.username,u=a.password,p=(a.bank,a.account_number,a.confirm_password),d=t.name,m=t.email,h=t.username,b=t.password,E=(t.bank,t.account_number,t.confirm_password),v=r?l.a.createElement("button",{className:"tp-auth-btn",disabled:!0},l.a.createElement("i",{className:"fas fa-circle-notch fa-spin"})," Creating account..."):l.a.createElement("button",{className:"tp-auth-btn",disabled:!1},"Create Account");return n?l.a.createElement(s.a,{to:"/dashboard"}):l.a.createElement("div",{className:"tp-auth-container"},l.a.createElement("h2",{className:"tp-auth-title"},"Sign up"),l.a.createElement("form",{onSubmit:this.createUserAccount},l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"name"},"Fullname"),l.a.createElement("input",{type:"text",className:"tp-input-field ".concat(d?"":"tp-invalid-field"),placeholder:"John Doe",id:"name",required:!0,value:o,onChange:this.handleInputChange,onBlur:this.validateField}),!d&&l.a.createElement("p",{className:"tp-field-error"},"*field is not valid")),l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"email"},"Email"),l.a.createElement("input",{type:"email",placeholder:"Email",className:"tp-input-field ".concat(m?"":"tp-invalid-field"),id:"email",required:!0,value:i,onChange:this.handleInputChange,onBlur:this.validateField}),!m&&l.a.createElement("p",{className:"tp-field-error"},"*email is not valid")),l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"username"},"Username"),l.a.createElement("input",{type:"text",className:"tp-input-field ".concat(h?"":"tp-invalid-field"),placeholder:"Username",id:"username",required:!0,value:c,onChange:this.handleInputChange,onBlur:this.validateField}),l.a.createElement("p",{className:"tp-form-note"},"* Username can only have letters and _"),!h&&l.a.createElement("p",{className:"tp-field-error"},"*Username can contain only letters and _")),l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"password"},"Password"),l.a.createElement("input",{type:"password",className:"tp-input-field ".concat(b?"":"tp-invalid-field"),placeholder:"Password",id:"password",required:!0,value:u,onChange:this.handleInputChange,onBlur:this.validateField}),l.a.createElement("div",{className:"tp-form-note"},l.a.createElement("p",null,"* must have an uppercase"),l.a.createElement("p",null,"* must have a lowercase"),l.a.createElement("p",null,"* must have a number"),l.a.createElement("p",null,"* must have any of this #$^+=!*()@%&")),!b&&l.a.createElement("p",{className:"tp-field-error"},"*password must contain numbers,lowercase, uppercas, any of this [@#$%..]")),l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"confirm_password"},"Confirm Password"),l.a.createElement("input",{type:"password",className:"tp-input-field ".concat(E?"":"tp-invalid-field"),placeholder:"Confirm Password",id:"confirm_password",required:!0,value:p,onChange:this.handleInputChange,onBlur:this.validateField}),!E&&l.a.createElement("p",{className:"tp-field-error"},"*passwords do not match")),l.a.createElement("div",null,v)))}}]),a}(r.Component),P=Object(E.b)(function(e){return{signup_input_data:e.input.signup,validation:e.validation.signup,error:e.error.signup,auth:e.auth.user,signingup:e.components.signingup}},function(e){return{signupInputAction:function(a){e(function(e){return{type:"SIGNUP_INPUT",payload:e}}(a))},signupInputValidation:function(a){e(function(e){return function(a,t){var n,r=e.id,l=e.value,o={type:"SIGNUP-VALIDATION",payload:{id:r,valid:null}};switch(r){case"name":n=/^[a-zA-Z]+(([',. -][a-zA-Z ])?[a-zA-Z]*)*$/.test(l),o=Object(v.a)({},o,{payload:{id:r,valid:n,index:0}});break;case"email":n=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(l),o=Object(v.a)({},o,{payload:{id:r,valid:n,index:1}});break;case"password":a({type:"SIGNUP-VALIDATION",payload:{id:"confirm_password",valid:t().input.signup.confirm_password===l,index:5}}),n=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[#$^+=!*()@%&]).{8,30}$/.test(l),o=Object(v.a)({},o,{payload:{id:r,valid:n,index:5}});break;case"bank":n=["Firstbank","GTB","Polaris Bank","Access Bank","UBA","Fidelity Bank","Eco Bank"].includes(l),o=Object(v.a)({},o,{payload:{id:r,valid:n,index:3}});break;case"account_number":n=/^[0-9]{10}$/.test(l),o=Object(v.a)({},o,{payload:{id:r,valid:n,index:4}});break;case"confirm_password":n=l===t().input.signup.password,o=Object(v.a)({},o,{payload:{id:r,valid:n,index:6}});break;case"username":var i={id:r,valid:n=/^[a-z0-9-_A-Z]{6,30}$/.test(l),index:2};o=Object(v.a)({},o,{payload:i})}a(o)}}(a))},createUserAccount:function(a){e(function(e){return function(a,t){a(O(!0)),f.a.post("".concat(C,"auth/signup"),e,{withCredentials:!0}).then(function(e){var t=e.data,n=t.error,r=t.success;n?(a({type:"SIGNUP-ERROR",payload:{error:n.message,success:null}}),a(O(!1)),Object(I.b)(n.message,{delay:50,className:"tp-toast-error"})):(a({type:"SIGNUP-SUCCESS",payload:{error:null,success:r.message}}),Object(I.b)("Account created successfully, you can login now",{delay:50,className:"tp-toast-success"})),a(O(!1))}).catch(function(e){a({type:"SIGNUP-ERROR",payload:e.message}),a(O(!1)),Object(I.b)(e.message,{delay:50,className:"tp-toast-error"})})}}(a))}}})(T),U=function(e){function a(){var e;return Object(u.a)(this,a),(e=Object(d.a)(this,Object(m.a)(a).call(this))).handleInputChange=e.handleInputChange.bind(Object(h.a)(e)),e.validateField=e.validateField.bind(Object(h.a)(e)),e.logUserIn=e.logUserIn.bind(Object(h.a)(e)),e}return Object(b.a)(a,e),Object(p.a)(a,[{key:"handleInputChange",value:function(e){var a=e.target,t=a.id,n=a.value;this.props.loginInputAction({id:t,value:n})}},{key:"validateField",value:function(e){}},{key:"logUserIn",value:function(e){e.preventDefault(),this.props.loguserin(this.props.login_input_data)}},{key:"render",value:function(){var e=this.props,a=e.login_input_data,t=e.validation,n=e.auth,r=e.logingin,o=a.email,i=a.password,u=t.email,p=r?l.a.createElement("button",{className:"tp-auth-btn",disabled:!0},l.a.createElement("i",{className:"fas fa-circle-notch fa-spin"})," Loging in..."):l.a.createElement("button",{className:"tp-auth-btn",disabled:!1},"Log in");return n?l.a.createElement(s.a,{to:"/dashboard"}):l.a.createElement("div",{className:"tp-auth-container"},l.a.createElement("h2",{className:"tp-auth-title"},"Login"),l.a.createElement("form",{onSubmit:this.logUserIn},l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"email"},"Email"),l.a.createElement("input",{type:"email",id:"email",placeholder:"Email",required:!0,className:"tp-input-field ".concat(u?"":"tp-invalid-field"),value:o,onChange:this.handleInputChange,onBlur:this.validateField}),!u&&l.a.createElement("p",{className:"tp-field-error"},"* email is invalid")),l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"password"},"Password"),l.a.createElement("input",{type:"password",id:"password",placeholder:"password",required:!0,className:"tp-input-field",value:i,onChange:this.handleInputChange})),l.a.createElement("div",null,p),l.a.createElement("div",null,l.a.createElement("p",null,l.a.createElement(c.b,{to:"/auth/password-reset",className:"tp-forgot-password"},"Forgot Password")))))}}]),a}(r.Component),F=Object(E.b)(function(e){return{login_input_data:e.input.login,validation:e.validation.login,auth:e.auth.user,error:e.error.login,logingin:e.components.logingin}},function(e){return{loginInputAction:function(a){e(function(e){return{type:"LOGIN_INPUT",payload:e}}(a))},loginValidation:function(a){e({type:"LOGIN-VALIDATION",payload:{valid:/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(a)}})},loguserin:function(a){return e(function(e){return function(a,t){a(y(!0)),f.a.post("".concat(C,"auth/login"),e,{withCredentials:!0}).then(function(e){var t=e.data,n=t.error,r=t.success;if(n)a({type:"LOGIN-ERROR",payload:{error:n}}),a(y(!1)),Object(I.b)("Invalid credentials provided",{delay:50,className:"tp-toast-error"});else{var l=w.verify(r.auth,"posiedonathenazeuskratoshydra");a({type:"SET-ACTIVE-USER",payload:{user:l.auth}}),a(y(!1))}}).catch(function(e){console.log(e),a({type:"LOGIN-ERROR",payload:{error:"Invalid credentials provided"}}),a(y(!1)),Object(I.b)(e.message,{delay:50,className:"tp-toast-error"})})}}(a))}}})(U),_=function(e){function a(){var e;return Object(u.a)(this,a),(e=Object(d.a)(this,Object(m.a)(a).call(this))).handleInputChange=e.handleInputChange.bind(Object(h.a)(e)),e.validateField=e.validateField.bind(Object(h.a)(e)),e}return Object(b.a)(a,e),Object(p.a)(a,[{key:"handleInputChange",value:function(e){var a=e.target,t=a.id,n=a.value;this.props.passwordResetInputAction({id:t,value:n}),this.props.passwordResetValidation(n)}},{key:"validateField",value:function(e){this.props.passwordResetValidation(e.target.value)}},{key:"render",value:function(){var e=this.props,a=e.validation,t=e.resetpassword_input_data.email,n=a.email,r=a.validfield;return l.a.createElement("div",{className:"tp-auth-container"},l.a.createElement("h2",{className:"tp-auth-title"},"Password Reset"),l.a.createElement("form",null,l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"email"},"Email"),l.a.createElement("input",{type:"email",placeholder:"email",id:"email",required:!0,className:"tp-input-field ".concat(n?"":"tp-invalid-field"),value:t,onChange:this.handleInputChange,onBlur:this.validateField}),!n&&l.a.createElement("p",{className:"tp-field-error"},"* email is not valid")),l.a.createElement("div",null,l.a.createElement("button",{className:"tp-auth-btn",disabled:!r},"Send reset link"))))}}]),a}(r.Component),R=Object(E.b)(function(e){return{resetpassword_input_data:e.input.resetpassword,validation:e.validation.passwordreset}},function(e){return{passwordResetInputAction:function(a){e(function(e){return{type:"PASSWORD_RESET_INPUT",payload:e}}(a))},passwordResetValidation:function(a){e({type:"PASSWORD-RESET-VALIDATION",payload:{valid:/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(a)}})}}})(_),G=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("li",null,l.a.createElement(c.c,{activeClassName:"tp-active-link-class",exact:!0,to:"/auth/login"},"Login")),l.a.createElement("li",null,l.a.createElement(c.c,{activeClassName:"tp-active-link-class",exact:!0,to:"/auth/signup"},"Signup")))},D=Object(E.b)(function(e){return{dropdown:e.components.dropdownopen}},function(e){return{loguserout:function(a){return a.preventDefault(),e(function(e){f.a.post("".concat(C,"auth/logout"),{},{withCredentials:!0}).then(function(a){a.data.error||e(S(null))})})},openDropdown:function(){return e((console.log("opening drop down action "),{type:"DROP-COMP",payload:null}))}}})(function(e){var a=e.user,t=e.loguserout,n=e.dropdown,r=e.openDropdown;return l.a.createElement(l.a.Fragment,null,l.a.createElement("li",null,l.a.createElement("div",{className:"tp-initials",onClick:r},l.a.createElement("span",null,a.username[0]),l.a.createElement("div",{className:"tp-drop-down ".concat(n?"tp-open":"")},l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(c.b,{to:"/update_profile"},"Update profile")),l.a.createElement("li",null,l.a.createElement("a",{href:"javascript:void(0)",onClick:t},"logout")))))))}),B=function(e){var a=e.user,t=a?l.a.createElement(D,{user:a}):l.a.createElement(G,null);return l.a.createElement("nav",{className:"tp-navigation"},l.a.createElement(c.b,{to:"/dashboard",className:"tp-brand"},"Topners"),l.a.createElement("ul",null,t))},z=(t(287),function(e){var a=e.question,t=e.submitAnswer,n=e.blockedout,r=a.option.map(function(e,a){return l.a.createElement("label",{className:"tp-radio-container",key:a},e,l.a.createElement("input",{type:"radio",name:"answer",onChange:t,value:e}),l.a.createElement("span",{className:"tp-checkmark"}))});return l.a.createElement("div",{className:"tp-question"},l.a.createElement("h3",{className:"tp-question-head"},a.question),n?l.a.createElement("h2",{style:{color:"red"}},"Blocked out"):l.a.createElement("form",null,l.a.createElement("div",null,r)))}),L=function(){return l.a.createElement("div",{className:"tp-how-it-works"},l.a.createElement("h2",{className:"tp-how"},"How it works ?"),l.a.createElement("div",{className:"tp-step"},l.a.createElement("h4",null,"Step 1"),l.a.createElement("h5",null,"Deposit into your accout"),l.a.createElement("p",null,"The very first step is to pay money into your account, account with amount less than 100 would be blocked out of joining games, be rest assured that paying with us is very safe and secure")),l.a.createElement("div",{className:"tp-step"},l.a.createElement("h4",null,"Step 2"),l.a.createElement("h5",null,"Sign up for game"),l.a.createElement("p",null,"After depositing into your account, the next step is to sign up for a game, then wait to recieve questions for answering")),l.a.createElement("div",{className:"tp-step"},l.a.createElement("h4",null,"Step 3"),l.a.createElement("h5",null,"Got question?, be smart and fast"),l.a.createElement("p",null,"Questions are posted every"," ",l.a.createElement("b",null,"Sunday, at 7:30pm, dont just get them right, you need to be fast and fall among the top people, because only the ",l.a.createElement("b",null,"Topners")," win"))),l.a.createElement("div",{className:"tp-step"},l.a.createElement("h4",null,"Step 4"),l.a.createElement("h5",null,"I won , time to get paid"),l.a.createElement("p",null,"The best part, payments are made during the following week after previous game, please note that payments are made into the provided account number")),l.a.createElement("div",{className:"tp-step"},l.a.createElement("h4",{style:{color:"red"}},"Note"),l.a.createElement("p",null,"Questions are removed 10 minutes after they have been posted, in other words you have the first ten minutes after the question has been posted to answer them")))},x=j.signupforgame,Z=j.submitanswer,q=j.getgameobject,W=j.setgameobject,V=function(e){function a(){var e;return Object(u.a)(this,a),(e=Object(d.a)(this,Object(m.a)(a).call(this))).signUpForGame=e.signUpForGame.bind(Object(h.a)(e)),e.submitAnswer=e.submitAnswer.bind(Object(h.a)(e)),e}return Object(b.a)(a,e),Object(p.a)(a,[{key:"signUpForGame",value:function(){if(this.props.user.signupForNextGameShow){return Object(I.b)("You are already signed up for next game..",{toastId:1,delay:50,type:I.b.TYPE.INFO,className:"tp-toast-error"})}return this.props.doingAsync(!0),this.props.signupForGame()}},{key:"submitAnswer",value:function(e){if(e.target.checked)return this.props.doingAsync(!0),this.props.submitAnswer(e.target.value)}},{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){this.props.getGameObject()}},{key:"render",value:function(){var e=this.props,a=e.user,t=e.game,n=a||{},r=n.username,o=n.account_balance,i=(n.account_number,n.bank),c=n.signupForNextGameShow,u=t.game,p=t.correct,d=t.wrong,m=t.blockout,h=(u||{}).gameison;return console.log(u),a?l.a.createElement("div",{className:"tp-main-container"},l.a.createElement("div",{className:"tp-user-header"},l.a.createElement("h4",null,"hi, ",r),l.a.createElement("div",null,l.a.createElement("h4",null,"\u20a6 ",o.toFixed(1)),l.a.createElement("button",{className:"tp-top-up-account"},"Deposit"))),o&&i?"":l.a.createElement("p",{className:"tp-form-note"},"You have not provided an account number or bank name, please update your profile"),l.a.createElement("div",{className:"tp-question-container"},u&&h&&c?l.a.createElement(z,{question:u.question,submitAnswer:this.submitAnswer,correct:p,wrong:d,blockedout:m}):l.a.createElement("p",{className:"tp-form-note"},"! When you are signed up for a game, and question is available for answering , it will appear here")),l.a.createElement("div",{className:"tp-card-container"},l.a.createElement("div",{className:"tp-card",onClick:this.signUpForGame},l.a.createElement("div",{className:"tp-card-top"},l.a.createElement("h1",null,"Bronze")),l.a.createElement("div",{className:"tp-card-bottom"},l.a.createElement("div",{className:"tp-entrance-fee"},l.a.createElement("h4",null,"Entrance fee"),l.a.createElement("h4",null,"\u20a6100")),l.a.createElement("div",{className:"tp-possible-win"},l.a.createElement("h4",null,"Win"),l.a.createElement("h4",null,"upto 100k"))))),l.a.createElement(L,null)):l.a.createElement(s.a,{to:"/auth/login"})}}]),a}(r.Component),M=Object(E.b)(function(e){return{user:e.auth.user,game:e.game}},function(e){return{signupForGame:function(){return e(function(e,a){var t=a().auth.user;a().components.Socket.emit(x,t)})},getGameObject:function(){return e(function(e,a){a().components.Socket.emit(q)})},submitAnswer:function(a){return e(function(e){return function(a,t){var n=t().auth.user,r=t().game.game.question.answer,l=t().game.game.totalNumberOfWinners;t().components.Socket.emit(Z,{user:n,checkanswer:e===r,totalNumberOfWinners:l})}}(a))},doingAsync:function(a){return e(N(a))}}})(V),$=function(){return l.a.createElement("div",{className:"tp-loader-container"},l.a.createElement("div",{className:"tp-loader"},l.a.createElement("div",{className:"tp-load tp-loader1"}),l.a.createElement("div",{className:"tp-load tp-loader2"}),l.a.createElement("div",{className:"tp-load tp-loader3"}),l.a.createElement("h3",{style:{color:"#fff"}},"Loading...")))},Y=j.error,H=j.success,J=j.setuser,K=j.setgameobject,Q=j.blockout,X=j.youwin,ee=j.wronganswer,ae=j.totalwinnersreached,te=function(e){function a(){return Object(u.a)(this,a),Object(d.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(b.a)(a,e),Object(p.a)(a,[{key:"componentWillMount",value:function(){this.props.toast.configure({autoClose:!1})}},{key:"componentDidMount",value:function(){var e=this,a=this.props.Socket,t=this.props.toast;a.on(Y,function(a){t.isActive(1)?(t.dismiss(1),t(a,{toastId:1,delay:50,type:t.TYPE.INFO,className:"tp-toast-error"})):t(a,{toastId:1,delay:50,type:t.TYPE.INFO,className:"tp-toast-error"}),e.props.doingAsync(!1)}),a.on(H,function(a){t.dismiss(2),t(a,{toastId:2,delay:50,type:t.TYPE.INFO,className:"tp-toast-success"}),e.props.doingAsync(!1)}),a.on(J,function(a){return console.log("user is emitted"),console.log("user: ",a),e.props.setActiveUser(a)}),a.on(K,function(a){e.props.setGameObject(a)}),a.on(Q,function(e){t.update("Blocked out",{delay:5e3,type:t.TYPE.INFO,className:"tp-toast-error"})}),a.on(ae,function(a){return e.props.doingAsync(!1),t(a,{delay:50,type:t.TYPE.INFO,className:"tp-toast-success"})}),a.on(X,function(a){return console.log("i win"),e.props.doingAsync(!1),t(a,{delay:50,type:t.TYPE.INFO,className:"tp-toast-success"})}),a.on(ee,function(e){t.isActive(6)?(t.dismiss(6),t(e,{toastId:6,delay:50,type:t.TYPE.INFO,className:"tp-toast-error"})):t(e,{toastId:6,delay:50,type:t.TYPE.INFO,className:"tp-toast-error"})})}},{key:"render",value:function(){return null}}]),a}(r.Component),ne=Object(E.b)(function(e){return{Socket:e.components.Socket}},function(e){return{setGameObject:function(a){return e((t=a,console.log(t),function(e){e({type:W,payload:t})}));var t},setActiveUser:function(a){return e(S(a))},doingAsync:function(a){return e(N(a))}}})(te),re=(t(288),function(){return l.a.createElement("div",{className:"tp-ring"},l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null))}),le=function(e){function a(){var e;return Object(u.a)(this,a),(e=Object(d.a)(this,Object(m.a)(a).call(this))).updateUserProfile=e.updateUserProfile.bind(Object(h.a)(e)),e.handleInputChange=e.handleInputChange.bind(Object(h.a)(e)),e}return Object(b.a)(a,e),Object(p.a)(a,[{key:"handleInputChange",value:function(e){var a=e.target,t=a.id,n=a.value;console.log(t," ",n),this.props.updateProfileInputAction({id:t,value:n})}},{key:"updateUserProfile",value:function(e){var a=this.props.input_data;e.preventDefault(),this.props.updateUserProfile(a)}},{key:"render",value:function(){var e=this.props,a=e.user,t=e.input_data,n=a||{},r=n.name,o=n.account_number,i=n.bank,c=t.name,s=t.bank,u=t.account_number;return l.a.createElement("div",{className:"tp-updateprofile-container"},l.a.createElement("div",{className:"tp-updateprofile-user"}),l.a.createElement("div",{className:"tp-auth-container"},l.a.createElement("h2",{className:"tp-auth-title"},"Update profile"),l.a.createElement("form",{onSubmit:this.updateUserProfile},l.a.createElement("h5",null,r),l.a.createElement("label",{for:"name",className:"tp-label"},"Name",l.a.createElement("input",{type:"text",placeholder:"new name",className:"tp-input-field",required:!0,value:c,onChange:this.handleInputChange,id:"name"})),l.a.createElement("div",null,l.a.createElement("h5",null,i),l.a.createElement("label",{htmlFor:"bank"},"Bank Name"),l.a.createElement("select",{id:"bank",required:!0,value:s,onChange:this.handleInputChange},l.a.createElement("option",{disabled:!0},"Select your bank"),l.a.createElement("option",null,"Firstbank"),l.a.createElement("option",null,"UBA"),l.a.createElement("option",null,"Access Bank"),l.a.createElement("option",null,"Polaris Bank"),l.a.createElement("option",null,"Fidelity Bank"),l.a.createElement("option",null,"GTB"),l.a.createElement("option",null,"Eco Bank"))),l.a.createElement("div",null,l.a.createElement("h5",null,o),l.a.createElement("label",{htmlFor:"account_number"},"Account number"),l.a.createElement("input",{type:"text",placeholder:"Account number",id:"account_number",value:u,onChange:this.handleInputChange})),l.a.createElement("div",null,l.a.createElement("button",{class:"tp-auth-btn"},"Save Changes")))))}}]),a}(r.Component),oe=Object(E.b)(function(e){return{user:e.auth.user,input_data:e.input.updateProfile}},function(e){return{updateUserProfile:function(a){return e(function(e){return function(a,t){var n=t().components.Socket,r=t().auth.user;n.emit(k,{data:e,_id:r})}}(a))},updateProfileInputAction:function(a){return e(function(e){return{type:"UPDATE-PROFILE-INPUT",payload:e}}(a))}}})(le);var ie=Object(E.b)(function(e){return{loading:e.auth.loading,user:e.auth.user,doingAsync:e.components.doingAsync}})(function(e){var a=e.loading,t=e.user,n=e.doingAsync,r=e.socket;return a?l.a.createElement($,null):l.a.createElement(c.a,null,l.a.createElement("div",{className:"App"},l.a.createElement(I.a,null),l.a.createElement(B,{user:t}),n&&l.a.createElement(re,null),l.a.createElement(s.d,null,l.a.createElement(s.b,{path:"/auth/signup",exact:!0,component:P}),l.a.createElement(s.b,{path:"/auth/login",exact:!0,component:F}),l.a.createElement(s.b,{path:"/dashboard",exact:!0,render:function(e){return l.a.createElement(M,Object.assign({},e,{socket:r}))}}),l.a.createElement(s.b,{path:"/auth/password-reset",exact:!0,component:R}),l.a.createElement(s.b,{path:"/update_profile",exact:!0,render:function(e){return l.a.createElement(oe,Object.assign({},e,{user:t}))}})),l.a.createElement(ne,{toast:I.b})))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ce=t(33),se={login:{email:"",password:""},resetpassword:{email:""},signup:{name:"",email:"",username:"",password:"",confirm_password:""},updateProfile:{name:"Odiagbe Osaro",bank:"Select your bank",account_number:""}},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,a=arguments.length>1?arguments[1]:void 0,t=a.payload?a.payload:{},n=t.id,r=t.value;switch(a.type){case"LOGIN_INPUT":var l=Object(v.a)({},e.login,Object(A.a)({},n,r));e=Object(v.a)({},e,{login:l});break;case"SIGNUP_INPUT":var o=Object(v.a)({},e.signup,Object(A.a)({},n,r));e=Object(v.a)({},e,{signup:o});break;case"PASSWORD_RESET_INPUT":var i=Object(v.a)({},e.resetpassword,Object(A.a)({},n,r));e=Object(v.a)({},e,{resetpassword:i});break;case"UPDATE-PROFILE-INPUT":var c=Object(v.a)({},e.updateProfile,Object(A.a)({},n,r));e=Object(v.a)({},e,{updateProfile:c})}return e},pe={signup:{name:!0,email:!0,password:!0,bank:!0,account_number:!0,confirm_password:!0,username:!0,validField:[!1,!1,!1,!1,!1,!1,!1]},login:{email:!0,validfield:!1},passwordreset:{email:!0,validfield:!1}},de=function(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0,n=t.payload?t.payload:{},r=n.id,l=n.valid,o=n.index;switch(t.type){case"SIGNUP-VALIDATION":var i=a.signup.validField;i[o]=l;var c=Object(v.a)({},a.signup,(e={},Object(A.a)(e,r,l),Object(A.a)(e,"validField",i),e));a=Object(v.a)({},a,{signup:c});break;case"LOGIN-VALIDATION":var s=Object(v.a)({},a.login,{email:l,validfield:l});a=Object(v.a)({},a,{login:s});break;case"PASSWORD-RESET-VALIDATION":var u=Object(v.a)({},a.passwordreset,{email:l,validfield:l});a=Object(v.a)({},a,{passwordreset:u})}return a},me={signup:{error:null,success:null},login:{error:null}},he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,a=arguments.length>1?arguments[1]:void 0,t=a.payload||{},n=t.error,r=t.success;switch(a.type){case"SIGNUP-ERROR":var l={error:n,success:r};e=Object(v.a)({},e,{signup:l});break;case"LOGIN-ERROR":console.log(n);var o={error:n};e=Object(v.a)({},e,{login:o})}return e},be={loading:!0,user:null},Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,a=arguments.length>1?arguments[1]:void 0,t=a.payload?a.payload:{},n=t.loading,r=t.user;switch(a.type){case"AUTHENTICATION-END":e=Object(v.a)({},e,{loading:n});break;case"SET-ACTIVE-USER":console.log(r),e=Object(v.a)({},e,{user:r})}return e},ve={logingin:!1,signingup:!1,dropdownopen:!1,notification:null,Socket:null,doingAsync:!1},ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"LOGING-IN-COMP":e=Object(v.a)({},e,{logingin:a.payload});break;case"SIGNING-UP-COMP":e=Object(v.a)({},e,{signingup:a.payload});break;case"DROP-COMP":var t=!e.dropdownopen;e=Object(v.a)({},e,{dropdownopen:t});break;case"NOTIFICATION":var n=a.payload;e=Object(v.a)({},e,{notification:n});break;case"CREATE-SOCKET-CONNECTION":var r=a.payload;e=Object(v.a)({},e,{Socket:r});break;case"DOING-ASYNC":e=Object(v.a)({},e,{doingAsync:a.payload})}return e},fe=j.setgameobject;console.log(fe);var ye={game:null,blockout:!1},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET-GAME-OBJECT":e=Object(v.a)({},e,{game:a.payload.game});break;case"WRONG-OR-RIGHT":e=Object(v.a)({},e,{correct:a.payload,wrong:!a.payload});break;case"BLOCK-OUT":e=Object(v.a)({},e,{blockout:a.payload});break;case fe:console.log("dispatched an action"),e=Object(v.a)({},e,{game:a.payload})}return e},Ne=Object(ce.c)({input:ue,validation:de,error:he,auth:Ee,components:ge,game:Oe}),we=t(154),Ie=t(155)("https://topner.herokuapp.com"),Ae=Object(ce.d)(Ne,Object(ce.a)(we.a));Ae.dispatch(function(e){f.a.get("".concat(C,"auth/verify_authentication"),{withCredentials:!0}).then(function(a){var t=a.data,n=t.error,r=t.success;n?e({type:"AUTHENTICATION-END",payload:{loading:!1}}):(e({type:"AUTHENTICATION-END",payload:{loading:!1}}),e(S(r.auth)))}).catch(function(a){e({type:"AUTHENTICATION-END",payload:{loading:!1}})})}),Ae.getState().components.Socket||Ae.dispatch({type:"CREATE-SOCKET-CONNECTION",payload:Ie}),i.a.render(l.a.createElement(E.a,{store:Ae},l.a.createElement(ie,{socket:Ie})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[156,1,2]]]);
//# sourceMappingURL=main.19859559.chunk.js.map