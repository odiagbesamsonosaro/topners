(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{161:function(e,t,a){e.exports=a(332)},166:function(e,t,a){},167:function(e,t,a){},192:function(e,t){},194:function(e,t){},232:function(e,t){},233:function(e,t){},292:function(e,t,a){},329:function(e,t){},332:function(e,t,a){"use strict";a.r(t);var n,r=a(0),s=a.n(r),o=a(34),c=a.n(o),i=(a(166),a(167),a(18)),l=a(32),u=a(7),m=a(2),d=a(13),p=a(14),h=a(16),b=a(15),f=a(9),v=a(17),g=a(10),E=a(82),O=a.n(E),N=a(153),y=a(20),w=a.n(y),j=function(e){return{type:"DOING-ASYNC",payload:e}},k=a(154),A=a(6),_="https://topner.herokuapp.com",I="".concat(_,"/"),C=function(e){return{type:"SET-ACTIVE-USER",payload:{user:e}}},S=function(e){return function(t,a){t(j(!0)),w.a.post("".concat(I,"auth/profile/update"),{data:e},{withCredentials:!0}).then(function(e){var a=e.data,n=a.error,r=a.message,s=a.user;n?Object(A.b)(r,{className:"tp-toast-error"}):(t(C(s)),Object(A.b)(r,{className:"tp-toast-success"})),t(j(!1))}).catch(function(e){Object(A.b)(e.message,{className:"tp-toast-error"}),t(j(!1))})}},P=a(3),R=a.n(P),U={usernameRegex:/^[a-z0-9-_A-Z]{6,30}$/,accountNumberRegex:/^[0-9]{10}$/,nameRegex:/^[a-zA-Z]+(([',. -][a-zA-Z ])?[a-zA-Z]*)*$/,emailRegex:/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,passwordRegex:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[#$^+=!*()@%&]).{8,30}$/,bankNames:["Access Bank Plc","Fidelity Bank Plc","First City Monument Bank Plc (FCMB)","First Bank of Nigeria Limited","Guaranty Trust Bank Plc","Union Bank of Nigeria Plc","United Bank of Africa Plc (UBA)","Zenith Bank Plc","Ecobank Nigeria Plc","Heritage Banking Company Limited","Keystone Bank Limited","Polaris Bank Limited","Stanbic IBTC Bank Plc","Standard Chartered","Sterling Bank Plc","Wema Bank Plc"]},T=function(e){return e?"tp-error-field":""},F=function(e){function t(){var e;return Object(d.a)(this,t),(e=Object(h.a)(this,Object(b.a)(t).call(this)))._handleInputChange=e._handleInputChange.bind(Object(f.a)(e)),e._createUserAccount=e._createUserAccount.bind(Object(f.a)(e)),e._formValidation=e._formValidation.bind(Object(f.a)(e)),e.state={input:{email:"",name:"",password:"",confirm_password:"",username:""},errors:{email:null,name:null,password:null,confirm_password:null,username:null}},e}return Object(v.a)(t,e),Object(p.a)(t,[{key:"_handleInputChange",value:function(e){var t=e.target,a=t.id,n=t.value,r=Object(m.a)({},this.state.input,Object(u.a)({},a,n));this.setState({input:r})}},{key:"_formValidation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},a=this.state.input,n={email:{message:"Email is invalid ",validateField:function(){var e=R.a.get(a,"email"),t=R.a.get(U,"emailRegex");return!(!e||!t.test(e))}},name:{message:"Name field is invalid ",validateField:function(){var e=R.a.get(a,"name"),t=R.a.get(U,"nameRegex");return!(!e||!t.test(e))}},username:{message:"Username field is invalid, it can only contain numbers, letters and _ , and must be 6 and above in length ",validateField:function(){var e=R.a.get(a,"username"),t=R.a.get(U,"usernameRegex");return!(!e||!t.test(e))}},password:{message:"Password is invalid, password must have uppercase, lowercase,a number, and any of this #$^*=!()@%&",validateField:function(){var e=R.a.get(a,"password"),t=R.a.get(U,"passwordRegex");return!(!e||!t.test(e))}},confirm_password:{message:"Passwords do not match",validateField:function(){var e=R.a.get(a,"password");return!(!R.a.get(a,"confirm_password")||!e)}}},r=this.state.errors;R.a.each(e,function(e){var t=R.a.get(n,e);t&&(r[e]=null,t.validateField()||(r[e]=R.a.get(t,"message")))}),this.setState({errors:r},function(){var e=!0;R.a.each(r,function(t){t&&(e=!1)}),t(e)})}},{key:"_createUserAccount",value:function(e){var t=this;e.preventDefault();var a=this.state.input;this._formValidation(["name","email","password","username","confirm_password"],function(e){e&&t.props.createUserAccount(a)})}},{key:"render",value:function(){var e=this.props.auth,t=this.state.input,a=t.name,n=t.email,r=t.username,o=t.password,c=t.confirm_password,i=this.state.errors,u=i.email,m=i.name,d=i.password,p=i.confirm_password,h=i.username;return e?s.a.createElement(l.a,{to:"/dashboard"}):s.a.createElement("div",{className:"tp-main-container"},s.a.createElement("div",{className:"tp-auth-container"},s.a.createElement("h2",{className:"tp-auth-title"},"Sign up"),s.a.createElement("form",{onSubmit:this._createUserAccount,noValidate:!0},s.a.createElement("div",{className:T(m)},s.a.createElement("label",{htmlFor:"name"},"Fullname"),s.a.createElement("input",{type:"text",className:"tp-input-field",placeholder:"John Doe",id:"name",required:!0,value:a,onChange:this._handleInputChange}),m&&s.a.createElement("p",null,"*",m)),s.a.createElement("div",{className:T(u)},s.a.createElement("label",{htmlFor:"email"},"Email"),s.a.createElement("input",{type:"email",placeholder:"Email",className:"tp-input-field ",id:"email",required:!0,value:n,onChange:this._handleInputChange}),u&&s.a.createElement("p",null,"*",u)),s.a.createElement("div",{className:T(h)},s.a.createElement("label",{htmlFor:"username"},"Username"),s.a.createElement("input",{type:"text",className:"tp-input-field",placeholder:"Username",id:"username",required:!0,value:r,onChange:this._handleInputChange}),h&&s.a.createElement("p",null,"*",h)),s.a.createElement("div",{className:T(d)},s.a.createElement("label",{htmlFor:"password"},"Password"),s.a.createElement("input",{type:"password",className:"tp-input-field ",placeholder:"Password",id:"password",required:!0,value:o,onChange:this._handleInputChange}),d&&s.a.createElement("p",null,"*",d)),s.a.createElement("div",{className:T(p)},s.a.createElement("label",{htmlFor:"confirm_password"},"Confirm Password"),s.a.createElement("input",{type:"password",className:"tp-input-field",placeholder:"Confirm Password",id:"confirm_password",required:!0,value:c,onChange:this._handleInputChange}),p&&s.a.createElement("p",null,"*",p)),s.a.createElement("div",null,s.a.createElement("button",{className:"tp-auth-btn"},"Sign up")))))}}]),t}(r.Component),V=Object(g.b)(function(e){return{signup_input_data:e.input.signup,validation:e.validation.signup,error:e.error.signup,auth:e.auth.user,signingup:e.components.signingup}},function(e){return{signupInputAction:function(t){e(function(e){return{type:"SIGNUP_INPUT",payload:e}}(t))},signupInputValidation:function(t){e(function(e){return function(t,a){var n,r=e.id,s=e.value,o={type:"SIGNUP-VALIDATION",payload:{id:r,valid:null}};switch(r){case"name":n=/^[a-zA-Z]+(([',. -][a-zA-Z ])?[a-zA-Z]*)*$/.test(s),o=Object(m.a)({},o,{payload:{id:r,valid:n,index:0}});break;case"email":n=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(s),o=Object(m.a)({},o,{payload:{id:r,valid:n,index:1}});break;case"password":t({type:"SIGNUP-VALIDATION",payload:{id:"confirm_password",valid:a().input.signup.confirm_password===s,index:5}}),n=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[#$^+=!*()@%&]).{8,30}$/.test(s),o=Object(m.a)({},o,{payload:{id:r,valid:n,index:5}});break;case"bank":n=["Firstbank","GTB","Polaris Bank","Access Bank","UBA","Fidelity Bank","Eco Bank"].includes(s),o=Object(m.a)({},o,{payload:{id:r,valid:n,index:3}});break;case"account_number":n=/^[0-9]{10}$/.test(s),o=Object(m.a)({},o,{payload:{id:r,valid:n,index:4}});break;case"confirm_password":n=s===a().input.signup.password,o=Object(m.a)({},o,{payload:{id:r,valid:n,index:6}});break;case"username":var c={id:r,valid:n=/^[a-z0-9-_A-Z]{6,30}$/.test(s),index:2};o=Object(m.a)({},o,{payload:c})}t(o)}}(t))},createUserAccount:function(t){e(function(e){return function(t,a){t(j(!0)),w.a.post("".concat(I,"auth/signup"),e,{withCredentials:!0}).then(function(e){var a=e.data,n=a.error,r=a.success;n?(t({type:"SIGNUP-ERROR",payload:{error:n.message,success:null}}),t(j(!1)),Object(A.b)(n.message,{delay:50,className:"tp-toast-error"})):(t({type:"SIGNUP-SUCCESS",payload:{error:null,success:r.message}}),t(j(!1)),Object(A.b)("Account created successfully, you can login now",{delay:50,className:"tp-toast-success"}))}).catch(function(e){t({type:"SIGNUP-ERROR",payload:e.message}),t(j(!1)),Object(A.b)(e.message,{delay:50,className:"tp-toast-error"})})}}(t))}}})(F),x=function(e){function t(){var e;return Object(d.a)(this,t),(e=Object(h.a)(this,Object(b.a)(t).call(this))).handleInputChange=e.handleInputChange.bind(Object(f.a)(e)),e._formValidation=e._formValidation.bind(Object(f.a)(e)),e._logUserIn=e._logUserIn.bind(Object(f.a)(e)),e.state={input:{email:"",password:""},errors:{email:null}},e}return Object(v.a)(t,e),Object(p.a)(t,[{key:"handleInputChange",value:function(e){var t=e.target,a=t.id,n=t.value,r=Object(m.a)({},this.state.input,Object(u.a)({},a,n));this.setState({input:r})}},{key:"_formValidation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},a=this.state.input,n={email:{message:"Email is invalid ",validateField:function(){var e=R.a.get(a,"email"),t=R.a.get(U,"emailRegex");return!(!e||!t.test(e))}}},r=this.state.errors;R.a.each(e,function(e){var t=R.a.get(n,e);t&&(r[e]=null,t.validateField()||(r[e]=R.a.get(t,"message")))}),this.setState({errors:r},function(){var e=!0;R.a.each(r,function(t){t&&(e=!1)}),t(e)})}},{key:"_logUserIn",value:function(e){var t=this;e.preventDefault();this._formValidation(["email"],function(e){e&&t.props.loguserin(t.state.input)})}},{key:"render",value:function(){var e=this.state.input,t=e.email,a=e.password,n=this.state.errors.email;return this.props.auth?s.a.createElement(l.a,{to:"/dashboard"}):s.a.createElement("div",{className:"tp-main-container"},s.a.createElement("div",{className:"tp-auth-container"},s.a.createElement("h2",{className:"tp-auth-title"},"Login"),s.a.createElement("form",{onSubmit:this._logUserIn,noValidate:!0},s.a.createElement("div",{className:T(n)},s.a.createElement("label",{htmlFor:"email"},"Email"),s.a.createElement("input",{type:"email",id:"email",placeholder:"Email",className:"tp-input-field",value:t,onChange:this.handleInputChange,onBlur:this.validateField}),n&&s.a.createElement("p",null,"* Email field is invalid")),s.a.createElement("div",null,s.a.createElement("label",{htmlFor:"password"},"Password"),s.a.createElement("input",{type:"password",id:"password",placeholder:"password",required:!0,className:"tp-input-field",value:a,onChange:this.handleInputChange})),s.a.createElement("div",null,s.a.createElement("button",{className:"tp-auth-btn"},"Log in")),s.a.createElement("div",null,s.a.createElement("p",null,s.a.createElement(i.b,{to:"/auth/password-reset",className:"tp-forgot-password"},"Forgot Password"))))))}}]),t}(r.Component),G=Object(g.b)(function(e){return{auth:e.auth.user,error:e.error.login}},function(e){return{loginInputAction:function(t){e(function(e){return{type:"LOGIN_INPUT",payload:e}}(t))},loginValidation:function(t){e({type:"LOGIN-VALIDATION",payload:{valid:/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(t)}})},loguserin:function(t){return e(function(e){return function(t,a){t(j(!0)),w.a.post("".concat(I,"auth/login"),e,{withCredentials:!0}).then(function(){var e=Object(N.a)(O.a.mark(function e(a){var n,r,s,o,c;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=a.data,r=n.error,s=n.success,r?(t({type:"LOGIN-ERROR",payload:{error:r}}),t(j(!1)),Object(A.b)("Invalid credentials provided",{delay:50,className:"tp-toast-error"})):(o=k.verify(s.auth,"posiedonathenazeuskratoshydra"),c=o.auth,t(C(c)),t(j(!1)));case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){console.log(e),t({type:"LOGIN-ERROR",payload:{error:"Invalid credentials provided"}}),t(j(!1)),Object(A.b)(e.message,{delay:50,className:"tp-toast-error"})})}}(t))}}})(x),D=function(e){function t(){var e;return Object(d.a)(this,t),(e=Object(h.a)(this,Object(b.a)(t).call(this)))._handleInputChange=e._handleInputChange.bind(Object(f.a)(e)),e._requestPasswordReset=e._requestPasswordReset.bind(Object(f.a)(e)),e.state={input:{email:""},errors:{email:null}},e}return Object(v.a)(t,e),Object(p.a)(t,[{key:"_handleInputChange",value:function(e){var t=e.target,a=t.id,n=t.value,r=Object(m.a)({},this.state.input,Object(u.a)({},a,n));this.setState({input:r})}},{key:"_formValidation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},a=this.state.input,n={email:{message:"Email is not valid",validateField:function(){var e=R.a.get(a,"email"),t=R.a.get(U,"emailRegex");return!(!e||!t.test(e))}}},r=this.state.errors;R.a.each(e,function(e){var t=R.a.get(n,e);t&&(r[e]=null,t.validateField()||(r[e]=R.a.get(t,"message")))}),this.setState({errors:r},function(){var e=!0;R.a.each(r,function(t){t&&(e=!1)}),t(e)})}},{key:"_requestPasswordReset",value:function(e){var t=this;e.preventDefault();var a=this.state.input.email;this._formValidation(["email"],function(e){e&&t.props.requestPasswordReset(a)})}},{key:"render",value:function(){var e=this.props.user,t=this.state.input.email,a=this.state.errors.email;return e?s.a.createElement(l.a,{to:"/dashboard"}):s.a.createElement("div",{className:"tp-main-container"},s.a.createElement("div",{className:"tp-auth-container"},s.a.createElement("h2",{className:"tp-auth-title"},"Password Reset"),s.a.createElement("form",{onSubmit:this._requestPasswordReset,noValidate:!0},s.a.createElement("div",{className:T(a)},s.a.createElement("label",{htmlFor:"email"},"Email"),s.a.createElement("input",{type:"email",placeholder:"email",id:"email",required:!0,className:"tp-input-field",value:t,onChange:this._handleInputChange}),a&&s.a.createElement("p",null,a)),s.a.createElement("div",null,s.a.createElement("button",{className:"tp-auth-btn"},"Send reset link")))))}}]),t}(r.Component),q=Object(g.b)(function(e){return{user:e.auth.user}},function(e){return{requestPasswordReset:function(t){e(function(e){return function(t,a){t(j(!0)),w.a.post("".concat(I,"auth/account/password_reset"),{email:e}).then(function(e){var a=e.data,n=a.error,r=a.message;n?Object(A.b)(r,{className:"tp-toast-error"}):Object(A.b)(r,{className:"tp-toast-success"}),t(j(!1))}).catch(function(e){Object(A.b)(e.message,{className:"tp-toast-error"}),t(j(!1))})}}(t))}}})(D),B=function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("li",null,s.a.createElement(i.c,{activeClassName:"tp-active-link-class",exact:!0,to:"/auth/login"},"Login")),s.a.createElement("li",null,s.a.createElement(i.c,{activeClassName:"tp-active-link-class",exact:!0,to:"/auth/signup"},"Signup")))},W=Object(g.b)(function(e){return{dropdown:e.components.dropdownopen}},function(e){return{loguserout:function(t){return t.preventDefault(),e(function(e){e(j(!0)),w.a.post("".concat(I,"auth/logout"),{},{withCredentials:!0}).then(function(t){t.data.error?e(j(!1)):(e(C(null)),e(j(!1)))}).catch(function(t){e(j(!0))})})},openDropdown:function(){return e((console.log("opening drop down action "),{type:"DROP-COMP",payload:null}))}}})(function(e){var t=e.user,a=e.loguserout,n=e.dropdown,r=e.openDropdown;return s.a.createElement(s.a.Fragment,null,s.a.createElement("li",null,s.a.createElement("div",{className:"tp-initials",onClick:r},s.a.createElement("img",{src:"https://api.adorable.io/avatars/35/".concat(t._id,".png"),alt:"image",className:"tp-img"}),s.a.createElement("div",{className:"tp-drop-down ".concat(n?"tp-open":"")},s.a.createElement("ul",null,s.a.createElement("li",null,s.a.createElement(i.b,{to:"/update_profile"},"Update profile")),s.a.createElement("li",null,s.a.createElement("a",{href:"javascript:void(0)",onClick:a},"logout")))))))}),z=function(e){var t=e.user,a=t?s.a.createElement(W,{user:t}):s.a.createElement(B,null);return s.a.createElement("div",{className:"tp-center"},s.a.createElement("nav",{className:"tp-navigation"},s.a.createElement(i.b,{to:"/dashboard",className:"tp-brand"},"Topners"),s.a.createElement("ul",null,a)))},Z=(a(292),function(e){var t=e.question,a=e.submitAnswer,n=e.blockedout,r=t.option.map(function(e,t){return s.a.createElement("label",{className:"tp-radio-container",key:t},e,s.a.createElement("input",{type:"radio",name:"answer",onChange:a,value:e}),s.a.createElement("span",{className:"tp-checkmark"}))});return s.a.createElement("div",{className:"tp-question"},s.a.createElement("h3",{className:"tp-question-head"},t.question),n?s.a.createElement("h2",{style:{color:"red"}},"Blocked out"):s.a.createElement("form",null,s.a.createElement("div",null,r)))}),L=function(){return s.a.createElement("div",{className:"tp-how-it-works"},s.a.createElement("h2",{className:"tp-how"},"How it works ?"),s.a.createElement("div",{className:"tp-step"},s.a.createElement("h4",null,"Step 1"),s.a.createElement("h5",null,"Deposit into your accout"),s.a.createElement("p",null,"The very first step is to pay money into your account, account with amount less than 100 would be blocked out of joining games, be rest assured that paying with us is very safe and secure")),s.a.createElement("div",{className:"tp-step"},s.a.createElement("h4",null,"Step 2"),s.a.createElement("h5",null,"Sign up for game"),s.a.createElement("p",null,"After depositing into your account, the next step is to sign up for a game, then wait to recieve questions for answering")),s.a.createElement("div",{className:"tp-step"},s.a.createElement("h4",null,"Step 3"),s.a.createElement("h5",null,"Got question?, be smart and fast"),s.a.createElement("p",null,"Questions are posted every"," ",s.a.createElement("b",null,"Sunday, at 7:30pm, dont just get them right, you need to be fast and fall among the top people, because only the ",s.a.createElement("b",null,"Topners")," win"))),s.a.createElement("div",{className:"tp-step"},s.a.createElement("h4",null,"Step 4"),s.a.createElement("h5",null,"I won , time to get paid"),s.a.createElement("p",null,"The best part, payments are made during the following week after previous game, please note that payments are made into the provided account number")),s.a.createElement("div",{className:"tp-step"},s.a.createElement("h4",{style:{color:"red"}},"Note"),s.a.createElement("p",null,"Questions are removed 10 minutes after they have been posted, in other words you have the first ten minutes after the question has been posted to answer them")))},M=(n={signupforgame:"SIGN-UP-FOR-GAME",error:"ERROR",success:"SUCCESS",setuser:"SET-USER",submitanswer:"SUBMIT-ANSWER",getgameobject:"GET-GAME",setgameobject:"SET-GAME",blockout:"BLOCK-OUT",youwin:"WIN",totalwinnersreached:"TOTAL-WINNERS-REACHED",wronganswer:"WRONG-ANSWER"},Object(u.a)(n,"submitanswer","SUBMIT-ANSWER"),Object(u.a)(n,"updateprofile","UPDATE-PROFILE"),Object(u.a)(n,"turngameonoroff","TURN-ON-OFF"),Object(u.a)(n,"verifyaccount","VERIFY"),Object(u.a)(n,"passwordreset","PASSWORDRESET"),Object(u.a)(n,"verifyreset","VERIFYRESET"),Object(u.a)(n,"resetuser","RESETUSER"),Object(u.a)(n,"withdrawcash","WITHDRAW-CASH"),Object(u.a)(n,"verifyuserpayment","VERIFY-USER-PAYMENT"),Object(u.a)(n,"paymentsuccessful","PAYMENT-SUCCESSFUL"),Object(u.a)(n,"retrypayment","RETRY-PAYMENT"),Object(u.a)(n,"paymenterror","PAYMENT-ERROR"),Object(u.a)(n,"requestverification","REQUEST-VERIFICATION"),Object(u.a)(n,"newuserjoined","NEW-USER-JOINED-GAME"),Object(u.a)(n,"modify","MODIFY"),n),$=(a(293),M.setgameobject),Y=function(e){return{type:$,payload:e}},H=function(e){return function(t,a){t(j(!0)),w.a.post("".concat(_,"/payment/verify"),{reference:e},{withCredentials:!0}).then(function(e){var a=e.data,n=a.error,r=a.message,s=a.user;n?Object(A.b)(r,{className:"tp-toast-error"}):(Object(A.b)(r,{className:"tp-toast-success"}),t(C(s))),t(j(!1))}).catch(function(e){Object(A.b)(e.message,{className:"tp-toast-error"}),t(j(!1))})}},J=function(e){var t=e.currentWinners,a=e.possibleWinners;return s.a.createElement("div",{className:"tp-current-winners-container"},s.a.createElement("div",{className:"tp-current-winners-num"},s.a.createElement("h1",null,t.length)),s.a.createElement("h4",null,"of ",a," winner(s)"))},K=function(e){function t(){var e;return Object(d.a)(this,t),(e=Object(h.a)(this,Object(b.a)(t).call(this))).signUpForGame=e.signUpForGame.bind(Object(f.a)(e)),e.submitAnswer=e.submitAnswer.bind(Object(f.a)(e)),e}return Object(v.a)(t,e),Object(p.a)(t,[{key:"signUpForGame",value:function(){return this.props.doingAsync(!0),this.props.signupForGame()}},{key:"submitAnswer",value:function(e){if(e.target.checked)return this.props.doingAsync(!0),this.props.submitAnswer(e.target.value)}},{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){this.props.getGameObject()}},{key:"render",value:function(){var e=this.props,t=e.user,a=e.game,n=t||{},r=n.username,o=n.account_balance,c=n.account_number,u=n.bank,m=n.signupForNextGameShow,d=a.game,p=a.correct,h=a.wrong,b=a.blockout,f=d||{},v=f.gameison,g=f.pricepool,E=f.possibleWinners,O=f.currentWinners;return t?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"tp-main-container"},s.a.createElement("div",{className:"tp-left"},s.a.createElement("div",{className:"tp-user-header"},s.a.createElement("h4",null,"hi, ",r),s.a.createElement("div",null,s.a.createElement("h4",null,"\u20a6 ",o.toFixed(1)),s.a.createElement("a",{href:"https://paystack.com/pay/topnerz",className:"tp-top-up-account"},"Deposit"),s.a.createElement(i.b,{className:"tp-top-up-account",style:{color:"#E9E3D7"},to:"/withdrawal"},"Withdraw"))),v&&s.a.createElement(J,{currentWinners:O,possibleWinners:E}),c&&u?"":s.a.createElement("p",{className:"tp-form-note"},"You have not provided an account number or bank name, please update your profile"),s.a.createElement("div",{className:"tp-question-container"},d&&v&&m?s.a.createElement(Z,{question:d.question,submitAnswer:this.submitAnswer,correct:p,wrong:h,blockedout:b}):s.a.createElement("p",{className:"tp-form-note"},"! When you are signed up for a game, and question is available for answering , it will appear here")),s.a.createElement("div",{className:"tp-card-container"},s.a.createElement("div",{className:"tp-card ".concat((v||m)&&"tp-block-out"),onClick:this.signUpForGame},s.a.createElement("div",{className:"tp-card-top"},s.a.createElement("h1",null,"Fastsmart"),s.a.createElement("span",{className:"tp-indicator ".concat(m?"tp-indicator-open":"tp-indicator-close"),label:"Indicates if you are signed up for a game already"})),s.a.createElement("div",{className:"tp-card-bottom"},s.a.createElement("div",{className:"tp-entrance-fee"},s.a.createElement("h4",null,"Entrance fee"),s.a.createElement("h4",null,"\u20a6100")),s.a.createElement("div",{className:"tp-possible-win"},s.a.createElement("h4",null,"Pool"),s.a.createElement("h4",null,"\u20a6",g)),s.a.createElement("div",{className:"tp-possible-win"},s.a.createElement("h4",null,"Top"),s.a.createElement("h4",null,E)))))),s.a.createElement("div",{className:"tp-right"},s.a.createElement(L,null)))):s.a.createElement(l.a,{to:"/auth/login"})}}]),t}(r.Component),Q=Object(g.b)(function(e){return{user:e.auth.user,game:e.game}},function(e){return{signupForGame:function(){return e(function(e,t){e(j(!0));var a=t().auth.user;w.a.post("".concat(_,"/game/signupforgame"),{user:a},{withCredentials:!0}).then(function(t){var a=t.data,n=a.error,r=a.user,s=a.message,o=a.game;console.log(o),n?Object(A.b)(s,{className:"tp-toast-error"}):(e(C(r)),e(Y(o)),Object(A.b)(s,{className:"tp-toast-success"})),e(j(!1))}).catch(function(t){Object(A.b)(t.message,{className:"tp-toast-error"}),e(j(!1))})})},getGameObject:function(){return e(function(e,t){e(j(!0)),w.a.get("".concat(_,"/game")).then(function(t){var a=t.data,n=a.game,r=a.error,s=a.message;r?Object(A.b)(s,{className:"tp-toast-error"}):e(Y(n)),e(j(!1))}).catch(function(t){Object(A.b)("".concat(t.message,", couldn't fetch game, try refreshing again"),{className:"tp-toast-error"}),e(j(!1))})})},submitAnswer:function(t){return e(function(e){return function(t,a){t(j(!0));var n=a().auth.user,r=a().components.Socket,s=a().game.game.question.answer;w.a.post("".concat(_,"/game/submitanswer"),{user:n,checkanswer:e===s},{withCredentials:!0}).then(function(e){var a=e.data,n=a.error,s=a.user,o=a.message,c=a.game;n?Object(A.b)(o,{className:"tp-toast-error"}):(Object(A.b)(o,{className:"tp-toast-success"}),r.emit("NEW-WINNER")),s&&t(C(s)),c&&t(Y(c)),t(j(!1))}).catch(function(e){Object(A.b)(e.message,{className:"tp-toast-error"}),t(j(!1))})}}(t))},doingAsync:function(t){return e(j(t))}}})(K),X=function(){return s.a.createElement("div",{className:"tp-loader-container"},s.a.createElement("div",{className:"tp-loader"},s.a.createElement("div",{className:"tp-load tp-loader1"}),s.a.createElement("div",{className:"tp-load tp-loader2"}),s.a.createElement("div",{className:"tp-load tp-loader3"}),s.a.createElement("h3",{style:{color:"#fff"}},"Loading...")))},ee=M.error,te=M.success,ae=M.setuser,ne=M.newuserjoined,re=M.setgameobject,se=M.totalwinnersreached,oe=M.paymentsuccessful,ce=M.paymenterror,ie=M.modify,le=M.resetuser,ue=function(e){function t(){var e;return Object(d.a)(this,t),(e=Object(h.a)(this,Object(b.a)(t).call(this))).state={redirect:!1},e}return Object(v.a)(t,e),Object(p.a)(t,[{key:"componentWillMount",value:function(){this.props.toast.configure({autoClose:!1})}},{key:"componentDidMount",value:function(){var e=this,t=this.props.Socket,a=this.props.toast;t.on(ee,function(t){a.isActive(1)?(a.dismiss(1),a(t,{toastId:1,delay:50,type:a.TYPE.INFO,className:"tp-toast-error"})):a(t,{toastId:1,delay:50,type:a.TYPE.INFO,className:"tp-toast-error"}),e.props.doingAsync(!1)}),t.on(te,function(t){a.dismiss(2),a(t,{toastId:2,delay:50,type:a.TYPE.INFO,className:"tp-toast-success"}),e.props.doingAsync(!1)}),t.on(ae,function(t){return e.props.setActiveUser(t)}),t.on(re,function(t){e.props.setGameObject(t)}),t.on(se,function(t){return e.props.doingAsync(!1),a(t,{delay:50,type:a.TYPE.INFO,className:"tp-toast-success"})}),t.on(oe,function(t){a(t,{delay:50,className:"tp-toast-success"}),e.setState({redirect:!0}),e.props.doingAsync(!1)}),t.on(ce,function(t){a(t,{delay:50,className:"tp-toast-error"}),e.setState({redirect:!0}),e.props.doingAsync(!1)}),t.on(ne,function(){t.emit(ie)}),t.on(le,function(){e.props.resetUser()})}},{key:"render",value:function(){return this.state.redirect?s.a.createElement(l.a,{to:"/dashboard"}):null}}]),t}(r.Component),me=Object(g.b)(function(e){return{Socket:e.components.Socket}},function(e){return{setGameObject:function(t){return e(Y(t))},setActiveUser:function(t){return e(C(t))},doingAsync:function(t){return e(j(t))},updateUserProfile:function(t){return e(S(t))},verifyUserPaymentAndUpdateUserBalance:function(t){return e(H(t))},resetUser:function(){return e({type:"RESET-USER",payload:null})}}})(ue),de=(a(294),function(){return s.a.createElement("div",{className:"tp-spinner-container"},s.a.createElement("div",{className:"lds-spinner"},s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null)))}),pe=function(e){var t=e.bankNames,a=e.userBank,n=e._handleInputChange,r=t?t.sort().map(function(e,t){return s.a.createElement("option",{key:t},e)}):"";return s.a.createElement("select",{id:"bank",value:a,onChange:n},s.a.createElement("option",{disabled:!0},"Select your bank"),r)},he=function(e){function t(){var e;return Object(d.a)(this,t),(e=Object(h.a)(this,Object(b.a)(t).call(this))).updateUserProfile=e.updateUserProfile.bind(Object(f.a)(e)),e._handleInputChange=e._handleInputChange.bind(Object(f.a)(e)),e._formValidation=e._formValidation.bind(Object(f.a)(e)),e.requestVerification=e.requestVerification.bind(Object(f.a)(e)),e.state={input:{bank:"Select your bank",account_number:""},errors:{bank:null,account_number:null}},e}return Object(v.a)(t,e),Object(p.a)(t,[{key:"_handleInputChange",value:function(e){var t=e.target,a=t.id,n=t.value,r=Object(m.a)({},this.state.input,Object(u.a)({},a,n));this.setState({input:r},function(){})}},{key:"updateUserProfile",value:function(e){var t=this;e.preventDefault();var a=this.state.input;this._formValidation(["bank","account_number"],function(e){if(e)return t.props.updateUserProfile(a)})}},{key:"_formValidation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},a=this.state.input,n={bank:{message:"Bank name is not valid",validateField:function(){var e=R.a.get(a,"bank"),t=R.a.get(U,"bankNames");return!!(e&&t.indexOf(e)>-1)}},account_number:{message:"Account number is invalid, must be numbers and 10 in length",validateField:function(){var e=R.a.get(a,"account_number"),t=R.a.get(U,"accountNumberRegex");return!(!e||!t.test(e))}}},r=this.state.errors;R.a.each(e,function(e){var t=R.a.get(n,e);t&&(r[e]=null,t.validateField()||(r[e]=R.a.get(t,"message")))}),console.log(r),this.setState({errors:r},function(){var e=!0;R.a.each(r,function(t){t&&(e=!1)}),t(e)})}},{key:"requestVerification",value:function(e){e.preventDefault(),this.props.requestVerification()}},{key:"render",value:function(){var e=this.props.user,t=e||{},a=t.account_number,n=t.bank,r=t.verified,o=this.state.input,c=o.bank,i=o.account_number,u=this.state.errors,m=u.bank,d=u.account_number;return console.log(this.state.errors),e?s.a.createElement("div",{className:"tp-main-container"},s.a.createElement("div",{className:"tp-auth-container"},!r&&s.a.createElement("p",{className:"tp-form-note"},"Your account is not verified and thereby limited, please verify your account to get full control"," ",s.a.createElement("a",{onClick:this.requestVerification,style:{color:"red",textDecoration:"underline"}},"Verify Account now")),s.a.createElement("h2",{className:"tp-auth-title"},"Update profile"),s.a.createElement("form",{onSubmit:this.updateUserProfile,noValidate:!0},s.a.createElement("div",{className:"tp-profile-details"},s.a.createElement("h4",null,"Bankname: ",n),s.a.createElement("h4",null,"Account number: ",a)),s.a.createElement("div",{className:T(m)},s.a.createElement("label",{htmlFor:"bank"},"Bank Name"),s.a.createElement(pe,{bankNames:U.bankNames,userBank:c,_handleInputChange:this._handleInputChange}),m&&s.a.createElement("p",null,m)),s.a.createElement("div",{className:T(d)},s.a.createElement("label",{htmlFor:"account_number"},"Account number"),s.a.createElement("input",{type:"text",placeholder:"Account number",id:"account_number",value:i,onChange:this._handleInputChange}),d&&s.a.createElement("p",null,d)),s.a.createElement("div",null,s.a.createElement("button",{className:"tp-auth-btn"},"Save Changes"))))):s.a.createElement(l.a,{to:"/auth/login"})}}]),t}(r.Component),be=Object(g.b)(function(e){return{user:e.auth.user,input_data:e.input.updateProfile}},function(e){return{updateUserProfile:function(t){return e(S(t))},updateProfileInputAction:function(t){return e(function(e){return{type:"UPDATE-PROFILE-INPUT",payload:e}}(t))},requestVerification:function(t){return e(function(e,t){e(j(!0)),w.a.post("".concat(I,"auth/account/sendverification"),{},{withCredentials:!0}).then(function(t){var a=t.data,n=a.error,r=a.message;n?Object(A.b)(r,{className:"tp-toast-error"}):Object(A.b)(r,{className:"tp-toast-success"}),e(j(!1))}).catch(function(t){Object(A.b)(t.message,{className:"tp-toast-error"}),e(j(!1))})})}}})(he),fe=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this.props;(0,e.verifyAccount)(e.match.params)}},{key:"render",value:function(){return null}}]),t}(r.Component),ve=Object(g.b)(null,function(e){return{verifyAccount:function(t){return e(function(e){return function(t,a){t(j(!0)),w.a.post("".concat(I,"auth/account/verify"),{data:e},{withCredentials:!0}).then(function(e){var a=e.data,n=a.error,r=a.message,s=a.user;n?Object(A.b)(r,{className:"tp-toast-error"}):(t(C(s)),Object(A.b)(r,{className:"tp-toast-success"})),t(j(!1))}).catch(function(e){Object(A.b)(e.message,{className:"tp-toast-error"}),t(j(!1))})}}(t))}}})(fe),ge=function(e){function t(){var e;return Object(d.a)(this,t),(e=Object(h.a)(this,Object(b.a)(t).call(this))).state={input:{password:"",confirm_password:""},errors:{password:null,confirm_password:null}},e._handleInputChange=e._handleInputChange.bind(Object(f.a)(e)),e._resetPassword=e._resetPassword.bind(Object(f.a)(e)),e._formValidation=e._formValidation.bind(Object(f.a)(e)),e}return Object(v.a)(t,e),Object(p.a)(t,[{key:"_handleInputChange",value:function(e){var t=e.target,a=t.id,n=t.value,r=Object(m.a)({},this.state.input,Object(u.a)({},a,n));this.setState({input:r})}},{key:"_formValidation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},a=this.state.input,n={password:{message:"Password is invalid, password must have uppercase, lowercase,a number, and any of this #$^*=!()@%&",validateField:function(){var e=R.a.get(a,"password"),t=R.a.get(U,"passwordRegex");return!(!e||!t.test(e))}},confirm_password:{message:"Passwords do not match",validateField:function(){var e=R.a.get(a,"password");return!(!R.a.get(a,"confirm_password")||!e)}}},r=this.state.errors;R.a.each(e,function(e){var t=R.a.get(n,e);t&&(r[e]=null,t.validateField()||(r[e]=R.a.get(t,"message")))}),this.setState({errors:r},function(){var e=!0;R.a.each(r,function(t){t&&(e=!1)}),t(e)})}},{key:"_resetPassword",value:function(e){var t=this;e.preventDefault();var a=this.state.input.password,n=this.props.match.params,r=n.email,s=n.token;this._formValidation(["password","confirm_password"],function(e){e&&t.props.validateResetToken({password:a,email:r,token:s})})}},{key:"render",value:function(){var e=this.props.user,t=this.state.input,a=t.password,n=t.confirm_password,r=this.state.errors,o=r.password,c=r.confirm_password;return console.log(this.state.errors),e?s.a.createElement(l.a,{to:"/dashboard"}):s.a.createElement("div",{className:"tp-main-container"},s.a.createElement("div",{className:"tp-auth-container"},s.a.createElement("form",{onSubmit:this._resetPassword,noValidate:!0},s.a.createElement("div",{className:T(o)},s.a.createElement("label",{className:"tp-label"},"Password",s.a.createElement("input",{type:"password",className:"tp-input-field ",placeholder:"Password",value:a,id:"password",onChange:this._handleInputChange,required:!0})),o&&s.a.createElement("p",null,o)),s.a.createElement("div",{className:T(c)},s.a.createElement("label",{className:"tp-label"},"Confirm password",s.a.createElement("input",{type:"password",className:"tp-input-field",placeholder:"Password",id:"confirm_password",value:n,onChange:this._handleInputChange,required:!0})),c&&s.a.createElement("p",null,c)),s.a.createElement("div",null,s.a.createElement("button",{className:"tp-auth-btn"},"Reset Password")))))}}]),t}(r.Component),Ee=Object(g.b)(function(e){return{user:e.auth.user}},function(e){return{validateResetToken:function(t){return e(function(e){return function(t,a){t(j(!0)),w.a.post("".concat(I,"auth/account/reset/validate"),{data:e}).then(function(e){var a=e.data,n=a.error,r=a.message;n?Object(A.b)(r,{className:"tp-toast-error"}):Object(A.b)(r,{className:"tp-toast-success"}),t(j(!1))}).catch(function(e){Object(A.b)(e.message,{className:"tp-toast-error"}),t(j(!1))})}}(t))}}})(ge),Oe=function(e){function t(){var e;return Object(d.a)(this,t),(e=Object(h.a)(this,Object(b.a)(t).call(this))).state={number:"",errors:{number:null}},e._handleInputChange=e._handleInputChange.bind(Object(f.a)(e)),e._requestWithdrawal=e._requestWithdrawal.bind(Object(f.a)(e)),e._formValidation=e._formValidation.bind(Object(f.a)(e)),e}return Object(v.a)(t,e),Object(p.a)(t,[{key:"_handleInputChange",value:function(e){var t=e.target.value;this.setState({number:t})}},{key:"_formValidation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},a=this.state.number,n={number:{message:"Withdrawal amount needs to be greater than 1000 and lesser than 20000",validateField:function(){return!!(a&&a>=1e3&&a<=2e4)}}},r=this.state.errors;R.a.each(e,function(e){var t=R.a.get(n,e);t&&(r[e]=null,t.validateField()||(r[e]=R.a.get(t,"message")))}),this.setState({errors:r},function(){var e=!0;R.a.each(r,function(t){t&&(e=!1)}),t(e)})}},{key:"_requestWithdrawal",value:function(e){var t=this,a=this.state.number;e.preventDefault();this._formValidation(["number"],function(e){e&&t.props.requestWithdrawal(a)})}},{key:"render",value:function(){var e=this.state,t=e.number,a=e.errors.number,n=this.props.user,r=n||{},o=r.account_balance,c=r.verified,i=o<1e3?"red":"green";return n?s.a.createElement("div",{className:"tp-main-container"},s.a.createElement("div",{className:"tp-auth-container"},!c&&s.a.createElement("p",{className:"tp-form-note"},"Account is not verified, withdrawals are limited to \u20a65000"),s.a.createElement("h4",{style:{paddingTop:10,paddingBottom:10}},"your balance is",s.a.createElement("span",{style:{color:i}}," \u20a6",o)),s.a.createElement("form",{onSubmit:this._requestWithdrawal,noValidate:!0},s.a.createElement("div",{className:T(a)},s.a.createElement("label",{className:"tp-label",style:{marginBottom:10}},"Amount to withdraw"),s.a.createElement("input",{type:"number",min:"1000",max:"20000",value:t,onChange:this._handleInputChange,placeholder:"Withdraw how much"}),a&&s.a.createElement("p",null,a)),s.a.createElement("div",null,s.a.createElement("button",{className:"tp-auth-btn"},"Request withdrawal"))))):s.a.createElement(l.a,{to:"/auth/login"})}}]),t}(r.Component),Ne=Object(g.b)(function(e){return{user:e.auth.user}},function(e){return{requestWithdrawal:function(t){return e(function(e){return function(t){t(j(!0)),w.a.post("".concat(_,"/game/withdrawal"),{amount:e},{withCredentials:!0}).then(function(e){var a=e.data,n=a.error,r=a.user,s=a.message;n?Object(A.b)(s,{className:"tp-toast-error"}):(t(C(r)),Object(A.b)(s,{className:"tp-toast-success"})),t(j(!1))}).catch(function(e){Object(A.b)(e.message,{className:"tp-toast-error"}),t(j(!1))})}}(t))}}})(Oe),ye=a(158),we=a.n(ye),je=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.location.search,t=we.a.parse(e).reference;this.props.verifyPaymentAndUpdateUserBalance(t)}},{key:"render",value:function(){return null}}]),t}(r.Component),ke=Object(g.b)(function(e){return{user:e.auth}},function(e){return{verifyPaymentAndUpdateUserBalance:function(t){return e(H(t))}}})(je);var Ae=Object(g.b)(function(e){return{loading:e.auth.loading,user:e.auth.user,doingAsync:e.components.doingAsync}})(function(e){var t=e.loading,a=e.user,n=e.doingAsync,r=e.socket;return t?s.a.createElement(X,null):s.a.createElement(i.a,null,s.a.createElement("div",{className:"App"},s.a.createElement(A.a,null),s.a.createElement(z,{user:a}),n&&s.a.createElement(de,null),s.a.createElement(l.d,null,s.a.createElement(l.b,{path:"/auth/signup",exact:!0,component:V}),s.a.createElement(l.b,{path:"/auth/login",exact:!0,component:G}),s.a.createElement(l.b,{path:"/",exact:!0,component:Q}),s.a.createElement(l.b,{path:"/dashboard",exact:!0,render:function(e){return s.a.createElement(Q,Object.assign({},e,{socket:r}))}}),s.a.createElement(l.b,{path:"/auth/password-reset",exact:!0,component:q}),s.a.createElement(l.b,{path:"/update_profile",exact:!0,render:function(e){return s.a.createElement(be,Object.assign({},e,{user:a}))}}),s.a.createElement(l.b,{path:"/verify_email/:email/:token",exact:!0,component:ve}),s.a.createElement(l.b,{path:"/password_reset/:email/:token",exact:!0,component:Ee}),s.a.createElement(l.b,{path:"/withdrawal",exact:!0,component:Ne}),s.a.createElement(l.b,{path:"/payment/verify",exact:!0,component:ke})),s.a.createElement(me,{toast:A.b})))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var _e=a(35),Ie={login:{email:"",password:""},resetpassword:{email:""},signup:{name:"",email:"",username:"",password:"",confirm_password:""},updateProfile:{name:"Odiagbe Osaro",bank:"Select your bank",account_number:""}},Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0,a=t.payload?t.payload:{},n=a.id,r=a.value;switch(t.type){case"LOGIN_INPUT":var s=Object(m.a)({},e.login,Object(u.a)({},n,r));e=Object(m.a)({},e,{login:s});break;case"SIGNUP_INPUT":var o=Object(m.a)({},e.signup,Object(u.a)({},n,r));e=Object(m.a)({},e,{signup:o});break;case"PASSWORD_RESET_INPUT":var c=Object(m.a)({},e.resetpassword,Object(u.a)({},n,r));e=Object(m.a)({},e,{resetpassword:c});break;case"UPDATE-PROFILE-INPUT":var i=Object(m.a)({},e.updateProfile,Object(u.a)({},n,r));e=Object(m.a)({},e,{updateProfile:i})}return e},Se={signup:{name:!0,email:!0,password:!0,bank:!0,account_number:!0,confirm_password:!0,username:!0,validField:[!1,!1,!1,!1,!1,!1,!1]},login:{email:!0,validfield:!1},passwordreset:{email:!0,validfield:!1}},Pe=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,a=arguments.length>1?arguments[1]:void 0,n=a.payload?a.payload:{},r=n.id,s=n.valid,o=n.index;switch(a.type){case"SIGNUP-VALIDATION":var c=t.signup.validField;c[o]=s;var i=Object(m.a)({},t.signup,(e={},Object(u.a)(e,r,s),Object(u.a)(e,"validField",c),e));t=Object(m.a)({},t,{signup:i});break;case"LOGIN-VALIDATION":var l=Object(m.a)({},t.login,{email:s,validfield:s});t=Object(m.a)({},t,{login:l});break;case"PASSWORD-RESET-VALIDATION":var d=Object(m.a)({},t.passwordreset,{email:s,validfield:s});t=Object(m.a)({},t,{passwordreset:d})}return t},Re={signup:{error:null,success:null},login:{error:null}},Ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0,a=t.payload||{},n=a.error,r=a.success;switch(t.type){case"SIGNUP-ERROR":var s={error:n,success:r};e=Object(m.a)({},e,{signup:s});break;case"LOGIN-ERROR":console.log(n);var o={error:n};e=Object(m.a)({},e,{login:o})}return e},Te={loading:!0,user:null},Fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te,t=arguments.length>1?arguments[1]:void 0,a=t.payload?t.payload:{},n=a.loading,r=a.user;switch(t.type){case"AUTHENTICATION-END":e=Object(m.a)({},e,{loading:n});break;case"SET-ACTIVE-USER":e=Object(m.a)({},e,{user:r});break;case"RESET-USER":var s=Object(m.a)({},e.user,{signupForNextGameShow:!1});e=Object(m.a)({},e,{user:s})}return e},Ve={logingin:!1,signingup:!1,dropdownopen:!1,notification:null,Socket:null,doingAsync:!1},xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGING-IN-COMP":e=Object(m.a)({},e,{logingin:t.payload});break;case"SIGNING-UP-COMP":e=Object(m.a)({},e,{signingup:t.payload});break;case"DROP-COMP":var a=!e.dropdownopen;e=Object(m.a)({},e,{dropdownopen:a});break;case"NOTIFICATION":var n=t.payload;e=Object(m.a)({},e,{notification:n});break;case"CREATE-SOCKET-CONNECTION":var r=t.payload;e=Object(m.a)({},e,{Socket:r});break;case"DOING-ASYNC":e=Object(m.a)({},e,{doingAsync:t.payload})}return e},Ge=M.setgameobject,De={game:null},qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ge:e=Object(m.a)({},e,{game:t.payload})}return e},Be=Object(_e.c)({input:Ce,validation:Pe,error:Ue,auth:Fe,components:xe,game:qe}),We=a(159),ze=a(160)(_),Ze=Object(_e.d)(Be,Object(_e.a)(We.a));Ze.dispatch(function(e){e(j(!0)),w.a.get("".concat(I,"auth/verify_authentication"),{withCredentials:!0}).then(function(t){var a=t.data,n=a.error,r=a.success;n?(e({type:"AUTHENTICATION-END",payload:{loading:!1}}),e(j(!1))):(e({type:"AUTHENTICATION-END",payload:{loading:!1}}),e(j(!1)),e(C(r.auth)),localStorage.setItem("user",JSON.stringify(Object(m.a)({},r.auth,{password:null}))))}).catch(function(t){e({type:"AUTHENTICATION-END",payload:{loading:!1}}),e(j(!1))})}),Ze.getState().components.Socket||Ze.dispatch({type:"CREATE-SOCKET-CONNECTION",payload:ze}),c.a.render(s.a.createElement(g.a,{store:Ze},s.a.createElement(Ae,{socket:ze})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[161,1,2]]]);
//# sourceMappingURL=main.d85ac340.chunk.js.map