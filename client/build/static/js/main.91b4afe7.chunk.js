(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{157:function(e,t,a){e.exports=a(327)},162:function(e,t,a){},163:function(e,t,a){},187:function(e,t){},189:function(e,t){},228:function(e,t){},229:function(e,t){},288:function(e,t,a){},324:function(e,t){},327:function(e,t,a){"use strict";a.r(t);var n,r=a(0),l=a.n(r),o=a(32),i=a.n(o),c=(a(162),a(163),a(11)),s=a(30),u=a(12),p=a(13),d=a(16),m=a(14),h=a(7),b=a(15),f=a(6),v=a(2),E=a(38),g=a.n(E),y=function(e){return{type:"DOING-ASYNC",payload:e}},O=a(150),N=a(17),w=a(8),j=(n={signupforgame:"SIGN-UP-FOR-GAME",error:"ERROR",success:"SUCCESS",setuser:"SET-USER",submitanswer:"SUBMIT-ANSWER",getgameobject:"GET-GAME",setgameobject:"SET-GAME",blockout:"BLOCK-OUT",youwin:"WIN",totalwinnersreached:"TOTAL-WINNERS-REACHED",wronganswer:"WRONG-ANSWER"},Object(w.a)(n,"submitanswer","SUBMIT-ANSWER"),Object(w.a)(n,"updateprofile","UPDATE-PROFILE"),Object(w.a)(n,"turngameonoroff","TURN-ON-OFF"),Object(w.a)(n,"verifyaccount","VERIFY"),Object(w.a)(n,"passwordreset","PASSWORDRESET"),Object(w.a)(n,"verifyreset","VERIFYRESET"),Object(w.a)(n,"resetuser","RESETUSER"),Object(w.a)(n,"withdrawcash","WITHDRAW-CASH"),Object(w.a)(n,"verifyuserpayment","VERIFY-USER-PAYMENT"),Object(w.a)(n,"paymentsuccessful","PAYMENT-SUCCESSFUL"),Object(w.a)(n,"retrypayment","RETRY-PAYMENT"),Object(w.a)(n,"paymenterror","PAYMENT-ERROR"),Object(w.a)(n,"requestverification","REQUEST-VERIFICATION"),n),k=j.updateprofile,A=j.verifyaccount,I=j.passwordreset,C=j.verifyreset,S=j.withdrawcash,P=j.requestverification,T="".concat("http://localhost:5000","/"),R=function(e){return{type:"SET-ACTIVE-USER",payload:{user:e}}},U=function(e){return function(t,a){t(y(!0));var n=a().components.Socket,r=a().auth.user;n.emit(k,{data:e,_id:r})}},_=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(d.a)(this,Object(m.a)(t).call(this))).handleInputChange=e.handleInputChange.bind(Object(h.a)(e)),e.validateField=e.validateField.bind(Object(h.a)(e)),e.createUserAccount=e.createUserAccount.bind(Object(h.a)(e)),e}return Object(b.a)(t,e),Object(p.a)(t,[{key:"handleInputChange",value:function(e){var t=e.target,a=t.id,n=t.value;this.props.signupInputAction({id:a,value:n}),this.props.signupInputValidation({id:a,value:n})}},{key:"validateField",value:function(e){var t=e.target,a=t.id,n=t.value;this.props.signupInputValidation({id:a,value:n})}},{key:"createUserAccount",value:function(e){e.preventDefault(),this.props.createUserAccount(this.props.signup_input_data)}},{key:"render",value:function(){var e=this.props,t=e.signup_input_data,a=e.validation,n=e.auth,r=e.signingup,o=t.name,i=t.email,c=t.username,u=t.password,p=(t.bank,t.account_number,t.confirm_password),d=a.name,m=a.email,h=a.username,b=a.password,f=(a.bank,a.account_number,a.confirm_password),v=r?l.a.createElement("button",{className:"tp-auth-btn",disabled:!0},l.a.createElement("i",{className:"fas fa-circle-notch fa-spin"})," Creating account..."):l.a.createElement("button",{className:"tp-auth-btn",disabled:!1},"Create Account");return n?l.a.createElement(s.a,{to:"/dashboard"}):l.a.createElement("div",{className:"tp-auth-container"},l.a.createElement("h2",{className:"tp-auth-title"},"Sign up"),l.a.createElement("form",{onSubmit:this.createUserAccount},l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"name"},"Fullname"),l.a.createElement("input",{type:"text",className:"tp-input-field ".concat(d?"":"tp-invalid-field"),placeholder:"John Doe",id:"name",required:!0,value:o,onChange:this.handleInputChange,onBlur:this.validateField}),!d&&l.a.createElement("p",{className:"tp-field-error"},"*field is not valid")),l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"email"},"Email"),l.a.createElement("input",{type:"email",placeholder:"Email",className:"tp-input-field ".concat(m?"":"tp-invalid-field"),id:"email",required:!0,value:i,onChange:this.handleInputChange,onBlur:this.validateField}),!m&&l.a.createElement("p",{className:"tp-field-error"},"*email is not valid")),l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"username"},"Username"),l.a.createElement("input",{type:"text",className:"tp-input-field ".concat(h?"":"tp-invalid-field"),placeholder:"Username",id:"username",required:!0,value:c,onChange:this.handleInputChange,onBlur:this.validateField}),l.a.createElement("p",{className:"tp-form-note"},"* Username can only have letters and _"),!h&&l.a.createElement("p",{className:"tp-field-error"},"*Username can contain only letters and _")),l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"password"},"Password"),l.a.createElement("input",{type:"password",className:"tp-input-field ".concat(b?"":"tp-invalid-field"),placeholder:"Password",id:"password",required:!0,value:u,onChange:this.handleInputChange,onBlur:this.validateField}),l.a.createElement("div",{className:"tp-form-note"},l.a.createElement("p",null,"* must have an uppercase"),l.a.createElement("p",null,"* must have a lowercase"),l.a.createElement("p",null,"* must have a number"),l.a.createElement("p",null,"* must have any of this #$^+=!*()@%&")),!b&&l.a.createElement("p",{className:"tp-field-error"},"*password must contain numbers,lowercase, uppercas, any of this [@#$%..]")),l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"confirm_password"},"Confirm Password"),l.a.createElement("input",{type:"password",className:"tp-input-field ".concat(f?"":"tp-invalid-field"),placeholder:"Confirm Password",id:"confirm_password",required:!0,value:p,onChange:this.handleInputChange,onBlur:this.validateField}),!f&&l.a.createElement("p",{className:"tp-field-error"},"*passwords do not match")),l.a.createElement("div",null,v)))}}]),t}(r.Component),F=Object(f.b)(function(e){return{signup_input_data:e.input.signup,validation:e.validation.signup,error:e.error.signup,auth:e.auth.user,signingup:e.components.signingup}},function(e){return{signupInputAction:function(t){e(function(e){return{type:"SIGNUP_INPUT",payload:e}}(t))},signupInputValidation:function(t){e(function(e){return function(t,a){var n,r=e.id,l=e.value,o={type:"SIGNUP-VALIDATION",payload:{id:r,valid:null}};switch(r){case"name":n=/^[a-zA-Z]+(([',. -][a-zA-Z ])?[a-zA-Z]*)*$/.test(l),o=Object(v.a)({},o,{payload:{id:r,valid:n,index:0}});break;case"email":n=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(l),o=Object(v.a)({},o,{payload:{id:r,valid:n,index:1}});break;case"password":t({type:"SIGNUP-VALIDATION",payload:{id:"confirm_password",valid:a().input.signup.confirm_password===l,index:5}}),n=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[#$^+=!*()@%&]).{8,30}$/.test(l),o=Object(v.a)({},o,{payload:{id:r,valid:n,index:5}});break;case"bank":n=["Firstbank","GTB","Polaris Bank","Access Bank","UBA","Fidelity Bank","Eco Bank"].includes(l),o=Object(v.a)({},o,{payload:{id:r,valid:n,index:3}});break;case"account_number":n=/^[0-9]{10}$/.test(l),o=Object(v.a)({},o,{payload:{id:r,valid:n,index:4}});break;case"confirm_password":n=l===a().input.signup.password,o=Object(v.a)({},o,{payload:{id:r,valid:n,index:6}});break;case"username":var i={id:r,valid:n=/^[a-z0-9-_A-Z]{6,30}$/.test(l),index:2};o=Object(v.a)({},o,{payload:i})}t(o)}}(t))},createUserAccount:function(t){e(function(e){return function(t,a){t(y(!0)),g.a.post("".concat(T,"auth/signup"),e,{withCredentials:!0}).then(function(e){var a=e.data,n=a.error,r=a.success;n?(t({type:"SIGNUP-ERROR",payload:{error:n.message,success:null}}),t(y(!1)),Object(N.b)(n.message,{delay:50,className:"tp-toast-error"})):(t({type:"SIGNUP-SUCCESS",payload:{error:null,success:r.message}}),t(y(!1)),Object(N.b)("Account created successfully, you can login now",{delay:50,className:"tp-toast-success"}))}).catch(function(e){t({type:"SIGNUP-ERROR",payload:e.message}),t(y(!1)),Object(N.b)(e.message,{delay:50,className:"tp-toast-error"})})}}(t))}}})(_),q=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(d.a)(this,Object(m.a)(t).call(this))).handleInputChange=e.handleInputChange.bind(Object(h.a)(e)),e.validateField=e.validateField.bind(Object(h.a)(e)),e.logUserIn=e.logUserIn.bind(Object(h.a)(e)),e}return Object(b.a)(t,e),Object(p.a)(t,[{key:"handleInputChange",value:function(e){var t=e.target,a=t.id,n=t.value;this.props.loginInputAction({id:a,value:n})}},{key:"validateField",value:function(e){}},{key:"logUserIn",value:function(e){e.preventDefault(),this.props.loguserin(this.props.login_input_data)}},{key:"render",value:function(){var e=this.props,t=e.login_input_data,a=e.validation,n=e.auth,r=e.logingin,o=t.email,i=t.password,u=a.email,p=r?l.a.createElement("button",{className:"tp-auth-btn",disabled:!0},l.a.createElement("i",{className:"fas fa-circle-notch fa-spin"})," Loging in..."):l.a.createElement("button",{className:"tp-auth-btn",disabled:!1},"Log in");return n?l.a.createElement(s.a,{to:"/dashboard"}):l.a.createElement("div",{className:"tp-auth-container"},l.a.createElement("h2",{className:"tp-auth-title"},"Login"),l.a.createElement("form",{onSubmit:this.logUserIn},l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"email"},"Email"),l.a.createElement("input",{type:"email",id:"email",placeholder:"Email",required:!0,className:"tp-input-field ".concat(u?"":"tp-invalid-field"),value:o,onChange:this.handleInputChange,onBlur:this.validateField}),!u&&l.a.createElement("p",{className:"tp-field-error"},"* email is invalid")),l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"password"},"Password"),l.a.createElement("input",{type:"password",id:"password",placeholder:"password",required:!0,className:"tp-input-field",value:i,onChange:this.handleInputChange})),l.a.createElement("div",null,p),l.a.createElement("div",null,l.a.createElement("p",null,l.a.createElement(c.b,{to:"/auth/password-reset",className:"tp-forgot-password"},"Forgot Password")))))}}]),t}(r.Component),G=Object(f.b)(function(e){return{login_input_data:e.input.login,validation:e.validation.login,auth:e.auth.user,error:e.error.login,logingin:e.components.logingin}},function(e){return{loginInputAction:function(t){e(function(e){return{type:"LOGIN_INPUT",payload:e}}(t))},loginValidation:function(t){e({type:"LOGIN-VALIDATION",payload:{valid:/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(t)}})},loguserin:function(t){return e(function(e){return function(t,a){t(y(!0)),g.a.post("".concat(T,"auth/login"),e,{withCredentials:!0}).then(function(e){var a=e.data,n=a.error,r=a.success;if(n)t({type:"LOGIN-ERROR",payload:{error:n}}),t(y(!1)),Object(N.b)("Invalid credentials provided",{delay:50,className:"tp-toast-error"});else{var l=O.verify(r.auth,"posiedonathenazeuskratoshydra");t({type:"SET-ACTIVE-USER",payload:{user:l.auth}}),t(y(!1))}}).catch(function(e){console.log(e),t({type:"LOGIN-ERROR",payload:{error:"Invalid credentials provided"}}),t(y(!1)),Object(N.b)(e.message,{delay:50,className:"tp-toast-error"})})}}(t))}}})(q),D=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(d.a)(this,Object(m.a)(t).call(this))).handleInputChange=e.handleInputChange.bind(Object(h.a)(e)),e.requestPasswordReset=e.requestPasswordReset.bind(Object(h.a)(e)),e}return Object(b.a)(t,e),Object(p.a)(t,[{key:"handleInputChange",value:function(e){var t=e.target,a=t.id,n=t.value;this.props.passwordResetInputAction({id:a,value:n})}},{key:"requestPasswordReset",value:function(e){e.preventDefault();var t=this.props.resetpassword_input_data.email;this.props.requestPasswordReset(t)}},{key:"render",value:function(){var e=this.props,t=e.validation,a=e.resetpassword_input_data,n=e.user,r=a.email,o=t.email;t.validfield;return n?l.a.createElement(s.a,{to:"/dashboard"}):l.a.createElement("div",{className:"tp-auth-container"},l.a.createElement("h2",{className:"tp-auth-title"},"Password Reset"),l.a.createElement("form",{onSubmit:this.requestPasswordReset},l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"email"},"Email"),l.a.createElement("input",{type:"email",placeholder:"email",id:"email",required:!0,className:"tp-input-field ".concat(o?"":"tp-invalid-field"),value:r,onChange:this.handleInputChange})),l.a.createElement("div",null,l.a.createElement("button",{className:"tp-auth-btn"},"Send reset link"))))}}]),t}(r.Component),B=Object(f.b)(function(e){return{resetpassword_input_data:e.input.resetpassword,validation:e.validation.passwordreset,user:e.auth.user}},function(e){return{passwordResetInputAction:function(t){e(function(e){return{type:"PASSWORD_RESET_INPUT",payload:e}}(t))},passwordResetValidation:function(t){e({type:"PASSWORD-RESET-VALIDATION",payload:{valid:/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(t)}})},requestPasswordReset:function(t){e(function(e){return function(t,a){t(y(!0)),a().components.Socket.emit(I,e)}}(t))}}})(D),z=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("li",null,l.a.createElement(c.c,{activeClassName:"tp-active-link-class",exact:!0,to:"/auth/login"},"Login")),l.a.createElement("li",null,l.a.createElement(c.c,{activeClassName:"tp-active-link-class",exact:!0,to:"/auth/signup"},"Signup")))},x=Object(f.b)(function(e){return{dropdown:e.components.dropdownopen}},function(e){return{loguserout:function(t){return t.preventDefault(),e(function(e){e(y(!0)),g.a.post("".concat(T,"auth/logout"),{},{withCredentials:!0}).then(function(t){t.data.error?e(y(!1)):(e(R(null)),e(y(!1)))}).catch(function(t){e(y(!0))})})},openDropdown:function(){return e((console.log("opening drop down action "),{type:"DROP-COMP",payload:null}))}}})(function(e){var t=e.user,a=e.loguserout,n=e.dropdown,r=e.openDropdown;return l.a.createElement(l.a.Fragment,null,l.a.createElement("li",null,l.a.createElement("div",{className:"tp-initials",onClick:r},l.a.createElement("span",null,t.username[0]),l.a.createElement("div",{className:"tp-drop-down ".concat(n?"tp-open":"")},l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(c.b,{to:"/update_profile"},"Update profile")),l.a.createElement("li",null,l.a.createElement(c.b,{to:"/withdrawal"},"Withdraw cash")),l.a.createElement("li",null,l.a.createElement("a",{href:"javascript:void(0)",onClick:a},"logout")))))))}),W=function(e){var t=e.user,a=t?l.a.createElement(x,{user:t}):l.a.createElement(z,null);return l.a.createElement("nav",{className:"tp-navigation"},l.a.createElement(c.b,{to:"/dashboard",className:"tp-brand"},"Topners"),l.a.createElement("ul",null,a))},Z=(a(288),function(e){var t=e.question,a=e.submitAnswer,n=e.blockedout,r=t.option.map(function(e,t){return l.a.createElement("label",{className:"tp-radio-container",key:t},e,l.a.createElement("input",{type:"radio",name:"answer",onChange:a,value:e}),l.a.createElement("span",{className:"tp-checkmark"}))});return l.a.createElement("div",{className:"tp-question"},l.a.createElement("h3",{className:"tp-question-head"},t.question),n?l.a.createElement("h2",{style:{color:"red"}},"Blocked out"):l.a.createElement("form",null,l.a.createElement("div",null,r)))}),L=function(){return l.a.createElement("div",{className:"tp-how-it-works"},l.a.createElement("h2",{className:"tp-how"},"How it works ?"),l.a.createElement("div",{className:"tp-step"},l.a.createElement("h4",null,"Step 1"),l.a.createElement("h5",null,"Deposit into your accout"),l.a.createElement("p",null,"The very first step is to pay money into your account, account with amount less than 100 would be blocked out of joining games, be rest assured that paying with us is very safe and secure")),l.a.createElement("div",{className:"tp-step"},l.a.createElement("h4",null,"Step 2"),l.a.createElement("h5",null,"Sign up for game"),l.a.createElement("p",null,"After depositing into your account, the next step is to sign up for a game, then wait to recieve questions for answering")),l.a.createElement("div",{className:"tp-step"},l.a.createElement("h4",null,"Step 3"),l.a.createElement("h5",null,"Got question?, be smart and fast"),l.a.createElement("p",null,"Questions are posted every"," ",l.a.createElement("b",null,"Sunday, at 7:30pm, dont just get them right, you need to be fast and fall among the top people, because only the ",l.a.createElement("b",null,"Topners")," win"))),l.a.createElement("div",{className:"tp-step"},l.a.createElement("h4",null,"Step 4"),l.a.createElement("h5",null,"I won , time to get paid"),l.a.createElement("p",null,"The best part, payments are made during the following week after previous game, please note that payments are made into the provided account number")),l.a.createElement("div",{className:"tp-step"},l.a.createElement("h4",{style:{color:"red"}},"Note"),l.a.createElement("p",null,"Questions are removed 10 minutes after they have been posted, in other words you have the first ten minutes after the question has been posted to answer them")))},V=j.signupforgame,M=j.submitanswer,$=j.getgameobject,Y=j.setgameobject,H=j.verifyuserpayment,J=function(e){return function(t,a){t(y(!0));var n=a().components.Socket,r=localStorage.getItem("user");n.emit(H,{reference:e,user:r})}},K=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(d.a)(this,Object(m.a)(t).call(this))).signUpForGame=e.signUpForGame.bind(Object(h.a)(e)),e.submitAnswer=e.submitAnswer.bind(Object(h.a)(e)),e}return Object(b.a)(t,e),Object(p.a)(t,[{key:"signUpForGame",value:function(){return this.props.doingAsync(!0),this.props.signupForGame()}},{key:"submitAnswer",value:function(e){if(e.target.checked)return this.props.doingAsync(!0),this.props.submitAnswer(e.target.value)}},{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){this.props.getGameObject()}},{key:"render",value:function(){var e=this.props,t=e.user,a=e.game,n=t||{},r=n.username,o=n.account_balance,i=(n.account_number,n.bank),c=n.signupForNextGameShow,u=a.game,p=a.correct,d=a.wrong,m=a.blockout,h=(u||{}).gameison;return t?l.a.createElement("div",{className:"tp-main-container"},l.a.createElement("div",{className:"tp-user-header"},l.a.createElement("h4",null,"hi, ",r),l.a.createElement("div",null,l.a.createElement("h4",null,"\u20a6 ",o.toFixed(1)),l.a.createElement("a",{href:"https://paystack.com/pay/topnerz",className:"tp-top-up-account"},"Deposit"))),o&&i?"":l.a.createElement("p",{className:"tp-form-note"},"You have not provided an account number or bank name, please update your profile"),l.a.createElement("div",{className:"tp-question-container"},u&&h&&c?l.a.createElement(Z,{question:u.question,submitAnswer:this.submitAnswer,correct:p,wrong:d,blockedout:m}):l.a.createElement("p",{className:"tp-form-note"},"! When you are signed up for a game, and question is available for answering , it will appear here")),l.a.createElement("div",{className:"tp-card-container"},l.a.createElement("div",{className:"tp-card ".concat((h||c)&&"tp-block-out"),onClick:this.signUpForGame},l.a.createElement("div",{className:"tp-card-top"},l.a.createElement("h1",null,"Fastsmart")),l.a.createElement("div",{className:"tp-card-bottom"},l.a.createElement("div",{className:"tp-entrance-fee"},l.a.createElement("h4",null,"Entrance fee"),l.a.createElement("h4",null,"\u20a6100")),l.a.createElement("div",{className:"tp-possible-win"},l.a.createElement("h4",null,"Win"),l.a.createElement("h4",null,"upto 100k"))))),l.a.createElement(L,null)):l.a.createElement(s.a,{to:"/auth/login"})}}]),t}(r.Component),Q=Object(f.b)(function(e){return{user:e.auth.user,game:e.game}},function(e){return{signupForGame:function(){return e(function(e,t){e(y(!0));var a=t().auth.user;t().components.Socket.emit(V,a)})},getGameObject:function(){return e(function(e,t){t().components.Socket.emit($)})},submitAnswer:function(t){return e(function(e){return function(t,a){t(y(!0));var n=a().auth.user,r=a().game.game.question.answer,l=a().game.game.totalNumberOfWinners;a().components.Socket.emit(M,{user:n,checkanswer:e===r,totalNumberOfWinners:l})}}(t))},doingAsync:function(t){return e(y(t))}}})(K),X=function(){return l.a.createElement("div",{className:"tp-loader-container"},l.a.createElement("div",{className:"tp-loader"},l.a.createElement("div",{className:"tp-load tp-loader1"}),l.a.createElement("div",{className:"tp-load tp-loader2"}),l.a.createElement("div",{className:"tp-load tp-loader3"}),l.a.createElement("h3",{style:{color:"#fff"}},"Loading...")))},ee=j.error,te=j.success,ae=j.setuser,ne=j.setgameobject,re=j.totalwinnersreached,le=j.paymentsuccessful,oe=j.paymenterror,ie=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(d.a)(this,Object(m.a)(t).call(this))).state={redirect:!1},e}return Object(b.a)(t,e),Object(p.a)(t,[{key:"componentWillMount",value:function(){this.props.toast.configure({autoClose:!1})}},{key:"componentDidMount",value:function(){var e=this,t=this.props.Socket,a=this.props.toast;t.on(ee,function(t){a.isActive(1)?(a.dismiss(1),a(t,{toastId:1,delay:50,type:a.TYPE.INFO,className:"tp-toast-error"})):a(t,{toastId:1,delay:50,type:a.TYPE.INFO,className:"tp-toast-error"}),e.props.doingAsync(!1)}),t.on(te,function(t){a.dismiss(2),a(t,{toastId:2,delay:50,type:a.TYPE.INFO,className:"tp-toast-success"}),e.props.doingAsync(!1)}),t.on(ae,function(t){return e.props.setActiveUser(t)}),t.on(ne,function(t){e.props.setGameObject(t)}),t.on(re,function(t){return e.props.doingAsync(!1),a(t,{delay:50,type:a.TYPE.INFO,className:"tp-toast-success"})}),t.on(le,function(t){a(t,{delay:50,className:"tp-toast-success"}),e.setState({redirect:!0}),e.props.doingAsync(!1)}),t.on(oe,function(t){a(t,{delay:50,className:"tp-toast-error"}),e.setState({redirect:!0}),e.props.doingAsync(!1)})}},{key:"render",value:function(){return this.state.redirect?l.a.createElement(s.a,{to:"/dashboard"}):null}}]),t}(r.Component),ce=Object(f.b)(function(e){return{Socket:e.components.Socket}},function(e){return{setGameObject:function(t){return e((a=t,function(e,t){e({type:Y,payload:a})}));var a},setActiveUser:function(t){return e(R(t))},doingAsync:function(t){return e(y(t))},updateUserProfile:function(t){return e(U(t))},verifyUserPaymentAndUpdateUserBalance:function(t){return e(J(t))}}})(ie),se=(a(289),function(){return l.a.createElement("div",{className:"tp-spinner-container"},l.a.createElement("div",{className:"lds-spinner"},l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null)))}),ue=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(d.a)(this,Object(m.a)(t).call(this))).updateUserProfile=e.updateUserProfile.bind(Object(h.a)(e)),e.handleInputChange=e.handleInputChange.bind(Object(h.a)(e)),e.requestVerification=e.requestVerification.bind(Object(h.a)(e)),e}return Object(b.a)(t,e),Object(p.a)(t,[{key:"handleInputChange",value:function(e){var t=e.target,a=t.id,n=t.value;console.log(a," ",n),this.props.updateProfileInputAction({id:a,value:n})}},{key:"updateUserProfile",value:function(e){var t=this.props.input_data,a=t.name,n=t.bank,r=t.account_number;e.preventDefault();return/^[0-9]{10}$/.test(r)?/^[a-zA-Z]+(([',. -][a-zA-Z ])?[a-zA-Z]*)*$/.test(a)?["Firstbank","GTB","Polaris Bank","Access Bank","UBA","Fidelity Bank","Eco Bank"].includes(n)?this.props.updateUserProfile(t):Object(N.b)("Invalid bank name provided",{delay:50,className:"tp-toast-error"}):Object(N.b)("Invalid name provided",{delay:50,className:"tp-toast-error"}):Object(N.b)("Invalid account number",{delay:50,className:"tp-toast-error"})}},{key:"requestVerification",value:function(e){e.preventDefault(),this.props.requestVerification()}},{key:"render",value:function(){var e=this.props,t=e.user,a=e.input_data,n=t||{},r=n.name,o=n.account_number,i=n.bank,c=n.verified,u=a.name,p=a.bank,d=a.account_number;return t?l.a.createElement("div",{className:"tp-updateprofile-container"},!c&&l.a.createElement("p",{className:"tp-form-note"},"Your account is not verified and thereby limited, please verify your account to get full control"," ",l.a.createElement("a",{onClick:this.requestVerification,style:{color:"red",textDecoration:"underline"}},"Verify Account now")),l.a.createElement("div",{className:"tp-updateprofile-user"}),l.a.createElement("div",{className:"tp-auth-container"},l.a.createElement("h2",{className:"tp-auth-title"},"Update profile"),l.a.createElement("form",{onSubmit:this.updateUserProfile},l.a.createElement("h5",null,"Name: ",r),l.a.createElement("label",{htmlFor:"name",className:"tp-label"},"Name",l.a.createElement("input",{type:"text",placeholder:"new name",className:"tp-input-field",required:!0,value:u,onChange:this.handleInputChange,id:"name"})),l.a.createElement("div",null,l.a.createElement("h5",null,"Bankname: ",i),l.a.createElement("label",{htmlFor:"bank"},"Bank Name"),l.a.createElement("select",{id:"bank",required:!0,value:p,onChange:this.handleInputChange},l.a.createElement("option",{disabled:!0},"Select your bank"),l.a.createElement("option",null,"Firstbank"),l.a.createElement("option",null,"UBA"),l.a.createElement("option",null,"Access Bank"),l.a.createElement("option",null,"Polaris Bank"),l.a.createElement("option",null,"Fidelity Bank"),l.a.createElement("option",null,"GTB"),l.a.createElement("option",null,"Eco Bank"))),l.a.createElement("div",null,l.a.createElement("h5",null,"Account number: ",o),l.a.createElement("label",{htmlFor:"account_number"},"Account number"),l.a.createElement("input",{type:"text",placeholder:"Account number",id:"account_number",value:d,onChange:this.handleInputChange})),l.a.createElement("div",null,l.a.createElement("button",{className:"tp-auth-btn"},"Save Changes"))))):l.a.createElement(s.a,{to:"/auth/login"})}}]),t}(r.Component),pe=Object(f.b)(function(e){return{user:e.auth.user,input_data:e.input.updateProfile}},function(e){return{updateUserProfile:function(t){return e(U(t))},updateProfileInputAction:function(t){return e(function(e){return{type:"UPDATE-PROFILE-INPUT",payload:e}}(t))},requestVerification:function(t){return e(function(e,t){e(y(!0));var a=t().components.Socket,n=t().auth.user;a.emit(P,{user:n})})}}})(ue),de=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this.props;(0,e.verifyAccount)(e.match.params)}},{key:"render",value:function(){return null}}]),t}(r.Component),me=Object(f.b)(null,function(e){return{verifyAccount:function(t){return e(function(e){return function(t,a){t(y(!0));var n=a().components.Socket;console.log(n),n.emit(A,e)}}(t))}}})(de),he=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(d.a)(this,Object(m.a)(t).call(this))).state={valid:!0,checked:!1,input:{password:"Samson1@",confirm_password:"Samson1@"}},e.handleInputChange=e.handleInputChange.bind(Object(h.a)(e)),e.resetPassword=e.resetPassword.bind(Object(h.a)(e)),e}return Object(b.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this.props;e.email,e.token;console.log(this.props)}},{key:"handleInputChange",value:function(e){var t=e.target,a=t.id,n=t.value;console.log(a,n);var r=Object(v.a)({},this.state.input,Object(w.a)({},a,n));this.setState({input:r})}},{key:"resetPassword",value:function(e){e.preventDefault();var t=this.state.input,a=t.password,n=t.confirm_password,r=this.props.match.params,l=r.email,o=r.token,i=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[#$^+=!*()@%&]).{8,30}$/;return a!==n?Object(N.b)("Passwords do not match",{delay:50,className:"tp-toast-error"}):i.test(a)&&i.test(n)?(this.setState({valid:!0}),this.props.validateResetToken({password:a,email:l,token:o})):(this.setState({valid:!1}),Object(N.b)("Password/Confirm-password must contain uppercase, lowercase, numbers, and symbols",{delay:50,className:"tp-toast-error"}))}},{key:"render",value:function(){var e=this.props.user,t=this.state.input,a=t.password,n=t.confirm_password,r=this.state.valid;return e?l.a.createElement(s.a,{to:"/dashboard"}):l.a.createElement("div",{className:"tp-auth-container"},l.a.createElement("form",{onSubmit:this.resetPassword},l.a.createElement("label",{className:"tp-label"},"Password",l.a.createElement("input",{type:"password",className:"tp-input-field ".concat(!r&&"tp-invalid-field"),placeholder:"Confirm password",value:a,id:"password",onChange:this.handleInputChange,required:!0})),l.a.createElement("label",{className:"tp-label"},"Confirm password",l.a.createElement("input",{type:"password",className:"tp-input-field ".concat(!r&&"tp-invalid-field"),placeholder:"Password",id:"confirm_password",value:n,onChange:this.handleInputChange,required:!0})),l.a.createElement("div",null,l.a.createElement("button",{className:"tp-auth-btn"},"Reset Password"))))}}]),t}(r.Component),be=Object(f.b)(function(e){return{user:e.auth.user}},function(e){return{validateResetToken:function(t){return e(function(e){return function(t,a){t(y(!0)),a().components.Socket.emit(C,e)}}(t))}}})(he),fe=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(d.a)(this,Object(m.a)(t).call(this))).state={number:1e3},e.handleInputChange=e.handleInputChange.bind(Object(h.a)(e)),e.requestWithdrawal=e.requestWithdrawal.bind(Object(h.a)(e)),e}return Object(b.a)(t,e),Object(p.a)(t,[{key:"handleInputChange",value:function(e){var t=e.target.value;this.setState({number:t})}},{key:"requestWithdrawal",value:function(e){var t=this.state.number;e.preventDefault(),this.props.requestWithdrawal(t)}},{key:"render",value:function(){var e=this.state.number,t=this.props.user,a=t||{},n=a.account_balance,r=a.verified,o=n<1e3?"red":"green";return t?l.a.createElement("div",{className:"tp-auth-container"},!r&&l.a.createElement("p",{className:"tp-form-note"},"Account is not verified, withdrawals are limited to \u20a65000"),l.a.createElement("h4",null,"your balance is",l.a.createElement("span",{style:{color:o}}," \u20a6",n)),l.a.createElement("form",{onSubmit:this.requestWithdrawal},l.a.createElement("label",{className:"tp-label"},"Amount to Withdraw",l.a.createElement("input",{type:"number",min:"1000",max:"20000",required:!0,value:e,onChange:this.handleInputChange,placeholder:"Withdraw how much"})),l.a.createElement("div",null,l.a.createElement("button",{className:"tp-auth-btn"},"Request withdrawal")))):l.a.createElement(s.a,{to:"/auth/login"})}}]),t}(r.Component),ve=Object(f.b)(function(e){return{user:e.auth.user}},function(e){return{requestWithdrawal:function(t){return e(function(e){return function(t,a){t(y(!0));var n=a().components.Socket,r=a().auth.user;n.emit(S,{user:r,amount:e})}}(t))}}})(fe),Ee=a(154),ge=a.n(Ee),ye=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.location.search,t=ge.a.parse(e).reference;this.props.verifyPaymentAndUpdateUserBalance(t)}},{key:"render",value:function(){return null}}]),t}(r.Component),Oe=Object(f.b)(function(e){return{user:e.auth}},function(e){return{verifyPaymentAndUpdateUserBalance:function(t){return e(J(t))}}})(ye);var Ne=Object(f.b)(function(e){return{loading:e.auth.loading,user:e.auth.user,doingAsync:e.components.doingAsync}})(function(e){var t=e.loading,a=e.user,n=e.doingAsync,r=e.socket;return t?l.a.createElement(X,null):l.a.createElement(c.a,null,l.a.createElement("div",{className:"App"},l.a.createElement(N.a,null),l.a.createElement(W,{user:a}),n&&l.a.createElement(se,null),l.a.createElement(s.d,null,l.a.createElement(s.b,{path:"/auth/signup",exact:!0,component:F}),l.a.createElement(s.b,{path:"/auth/login",exact:!0,component:G}),l.a.createElement(s.b,{path:"/",exact:!0,component:Q}),l.a.createElement(s.b,{path:"/dashboard",exact:!0,render:function(e){return l.a.createElement(Q,Object.assign({},e,{socket:r}))}}),l.a.createElement(s.b,{path:"/auth/password-reset",exact:!0,component:B}),l.a.createElement(s.b,{path:"/update_profile",exact:!0,render:function(e){return l.a.createElement(pe,Object.assign({},e,{user:a}))}}),l.a.createElement(s.b,{path:"/verify_email/:email/:token",exact:!0,component:me}),l.a.createElement(s.b,{path:"/password_reset/:email/:token",exact:!0,component:be}),l.a.createElement(s.b,{path:"/withdrawal",exact:!0,component:ve}),l.a.createElement(s.b,{path:"/payment/verify",exact:!0,component:Oe})),l.a.createElement(ce,{toast:N.b})))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var we=a(33),je={login:{email:"",password:""},resetpassword:{email:""},signup:{name:"",email:"",username:"",password:"",confirm_password:""},updateProfile:{name:"Odiagbe Osaro",bank:"Select your bank",account_number:""}},ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0,a=t.payload?t.payload:{},n=a.id,r=a.value;switch(t.type){case"LOGIN_INPUT":var l=Object(v.a)({},e.login,Object(w.a)({},n,r));e=Object(v.a)({},e,{login:l});break;case"SIGNUP_INPUT":var o=Object(v.a)({},e.signup,Object(w.a)({},n,r));e=Object(v.a)({},e,{signup:o});break;case"PASSWORD_RESET_INPUT":var i=Object(v.a)({},e.resetpassword,Object(w.a)({},n,r));e=Object(v.a)({},e,{resetpassword:i});break;case"UPDATE-PROFILE-INPUT":var c=Object(v.a)({},e.updateProfile,Object(w.a)({},n,r));e=Object(v.a)({},e,{updateProfile:c})}return e},Ae={signup:{name:!0,email:!0,password:!0,bank:!0,account_number:!0,confirm_password:!0,username:!0,validField:[!1,!1,!1,!1,!1,!1,!1]},login:{email:!0,validfield:!1},passwordreset:{email:!0,validfield:!1}},Ie=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,a=arguments.length>1?arguments[1]:void 0,n=a.payload?a.payload:{},r=n.id,l=n.valid,o=n.index;switch(a.type){case"SIGNUP-VALIDATION":var i=t.signup.validField;i[o]=l;var c=Object(v.a)({},t.signup,(e={},Object(w.a)(e,r,l),Object(w.a)(e,"validField",i),e));t=Object(v.a)({},t,{signup:c});break;case"LOGIN-VALIDATION":var s=Object(v.a)({},t.login,{email:l,validfield:l});t=Object(v.a)({},t,{login:s});break;case"PASSWORD-RESET-VALIDATION":var u=Object(v.a)({},t.passwordreset,{email:l,validfield:l});t=Object(v.a)({},t,{passwordreset:u})}return t},Ce={signup:{error:null,success:null},login:{error:null}},Se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0,a=t.payload||{},n=a.error,r=a.success;switch(t.type){case"SIGNUP-ERROR":var l={error:n,success:r};e=Object(v.a)({},e,{signup:l});break;case"LOGIN-ERROR":console.log(n);var o={error:n};e=Object(v.a)({},e,{login:o})}return e},Pe={loading:!0,user:null},Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0,a=t.payload?t.payload:{},n=a.loading,r=a.user;switch(t.type){case"AUTHENTICATION-END":e=Object(v.a)({},e,{loading:n});break;case"SET-ACTIVE-USER":console.log(r),e=Object(v.a)({},e,{user:r})}return e},Re={logingin:!1,signingup:!1,dropdownopen:!1,notification:null,Socket:null,doingAsync:!1},Ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGING-IN-COMP":e=Object(v.a)({},e,{logingin:t.payload});break;case"SIGNING-UP-COMP":e=Object(v.a)({},e,{signingup:t.payload});break;case"DROP-COMP":var a=!e.dropdownopen;e=Object(v.a)({},e,{dropdownopen:a});break;case"NOTIFICATION":var n=t.payload;e=Object(v.a)({},e,{notification:n});break;case"CREATE-SOCKET-CONNECTION":var r=t.payload;e=Object(v.a)({},e,{Socket:r});break;case"DOING-ASYNC":e=Object(v.a)({},e,{doingAsync:t.payload})}return e},_e=j.setgameobject;console.log(_e);var Fe={game:null,blockout:!1},qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-GAME-OBJECT":e=Object(v.a)({},e,{game:t.payload.game});break;case"WRONG-OR-RIGHT":e=Object(v.a)({},e,{correct:t.payload,wrong:!t.payload});break;case"BLOCK-OUT":e=Object(v.a)({},e,{blockout:t.payload});break;case _e:console.log("dispatched an action"),e=Object(v.a)({},e,{game:t.payload})}return e},Ge=Object(we.c)({input:ke,validation:Ie,error:Se,auth:Te,components:Ue,game:qe}),De=a(155),Be=a(156)("http://localhost:5000"),ze=Object(we.d)(Ge,Object(we.a)(De.a));ze.dispatch(function(e){e(y(!0)),g.a.get("".concat(T,"auth/verify_authentication"),{withCredentials:!0}).then(function(t){var a=t.data,n=a.error,r=a.success;n?(e({type:"AUTHENTICATION-END",payload:{loading:!1}}),e(y(!1))):(e({type:"AUTHENTICATION-END",payload:{loading:!1}}),e(y(!1)),e(R(r.auth)),localStorage.setItem("user",JSON.stringify(Object(v.a)({},r.auth,{password:null}))))}).catch(function(t){e({type:"AUTHENTICATION-END",payload:{loading:!1}}),e(y(!1))})}),ze.getState().components.Socket||ze.dispatch({type:"CREATE-SOCKET-CONNECTION",payload:Be}),i.a.render(l.a.createElement(f.a,{store:ze},l.a.createElement(Ne,{socket:Be})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[157,1,2]]]);
//# sourceMappingURL=main.91b4afe7.chunk.js.map